"use strict";(self.webpackChunkdocs_website=self.webpackChunkdocs_website||[]).push([[4580],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>y});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c=r.createContext({}),l=function(e){var t=r.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=l(e.components);return r.createElement(c.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,c=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=l(n),m=o,y=u["".concat(c,".").concat(m)]||u[m]||d[m]||a;return n?r.createElement(y,i(i({ref:t},p),{},{components:n})):r.createElement(y,i({ref:t},p))}));function y(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,i=new Array(a);i[0]=m;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s[u]="string"==typeof e?e:o,i[1]=s;for(var l=2;l<a;l++)i[l]=n[l];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},5998:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>u,frontMatter:()=>a,metadata:()=>s,toc:()=>l});var r=n(7462),o=(n(7294),n(3905));const a={title:"FAQ",hide_title:!0},i="Frequently Asked Questions",s={unversionedId:"docs/Sync/FAQ",id:"docs/Sync/FAQ",title:"FAQ",description:"Sync primitives and implementing your own sync entirely from scratch",source:"@site/docs/docs/Sync/FAQ.md",sourceDirName:"docs/Sync",slug:"/docs/Sync/FAQ",permalink:"/docs/Sync/FAQ",draft:!1,editUrl:"https://github.com/nozbe/WatermelonDB/edit/master/docs-website/docs/docs/Sync/FAQ.md",tags:[],version:"current",frontMatter:{title:"FAQ",hide_title:!0},sidebar:"docs",previous:{title:"Limitations",permalink:"/docs/Sync/Limitations"},next:{title:"Troubleshoot",permalink:"/docs/Sync/Troubleshoot"}},c={},l=[{value:"Sync primitives and implementing your own sync entirely from scratch",id:"sync-primitives-and-implementing-your-own-sync-entirely-from-scratch",level:3},{value:"Local vs Remote IDs",id:"local-vs-remote-ids",level:3}],p={toc:l};function u(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"frequently-asked-questions"},"Frequently Asked Questions"),(0,o.kt)("h3",{id:"sync-primitives-and-implementing-your-own-sync-entirely-from-scratch"},"Sync primitives and implementing your own sync entirely from scratch"),(0,o.kt)("p",null,"See: ",(0,o.kt)("a",{parentName:"p",href:"/docs/Implementation/SyncImpl"},"Sync implementation details")),(0,o.kt)("h3",{id:"local-vs-remote-ids"},"Local vs Remote IDs"),(0,o.kt)("p",null,"WatermelonDB has been designed with the assumption that there is no difference between Local IDs (IDs of records and their relations in a WatermelonDB database) and Remote IDs (IDs on the backend server). So a local app can create new records, generating their IDs, and the backend server will use this ID as the true ID. This greatly simplifies synchronization, as you don't have to replace local with remote IDs on the record and all records that point to it."),(0,o.kt)("p",null,"We highly recommend that you adopt this practice."),(0,o.kt)("p",null,"Some people are skeptical about this approach due to conflicts, since backend can guarantee unique IDs, and the local app can't. However, in practice, a standard Watermelon ID has 8,000,000,000,000,000,000,000,000 possible combinations. That's enough entropy to make conflicts extremely unlikely. At ",(0,o.kt)("a",{parentName:"p",href:"https://nozbe.com"},"Nozbe"),", we've done it this way at scale for more than 15 years, and not once did we encounter a genuine ID conflict or had other issues due to this approach."),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Using the birthday problem, we can calculate that for 36^16 possible IDs, if your system grows to a billion records, the probability of a single conflict is 6e-8. At 100B records, the probability grows to 0.06%. But if you grow to that many records, you're probably a very rich company and can start worrying about things like this ",(0,o.kt)("em",{parentName:"p"},"then"),".")),(0,o.kt)("p",null,"If you absolutely can't adopt this practice, there's a number of production apps using WatermelonDB that keep local and remote IDs separate \u2014 however, more work is required this way. Search Issues to find discussions about this topic \u2014 and consider contributing to WatermelonDB to make managing separate local IDs easier for everyone!"))}u.isMDXComponent=!0}}]);