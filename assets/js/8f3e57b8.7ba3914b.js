"use strict";(self.webpackChunkdocs_website=self.webpackChunkdocs_website||[]).push([[4367],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>h});var r=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var p=r.createContext({}),l=function(e){var t=r.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},d=function(e){var t=l(e.components);return r.createElement(p.Provider,{value:t},e.children)},u="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,p=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),u=l(n),m=i,h=u["".concat(p,".").concat(m)]||u[m]||c[m]||o;return n?r.createElement(h,a(a({ref:t},d),{},{components:n})):r.createElement(h,a({ref:t},d))}));function h(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,a=new Array(o);a[0]=m;var s={};for(var p in t)hasOwnProperty.call(t,p)&&(s[p]=t[p]);s.originalType=e,s[u]="string"==typeof e?e:i,a[1]=s;for(var l=2;l<o;l++)a[l]=n[l];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},3803:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>a,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>l});var r=n(7462),i=(n(7294),n(3905));const o={title:"Pro Tips",hide_title:!0},a="Various Pro Tips",s={unversionedId:"docs/Advanced/ProTips",id:"docs/Advanced/ProTips",title:"Pro Tips",description:"Database viewer",source:"@site/docs/docs/Advanced/ProTips.md",sourceDirName:"docs/Advanced",slug:"/docs/Advanced/ProTips",permalink:"/docs/Advanced/ProTips",draft:!1,editUrl:"https://github.com/nozbe/WatermelonDB/edit/master/docs-website/docs/docs/Advanced/ProTips.md",tags:[],version:"current",frontMatter:{title:"Pro Tips",hide_title:!0},sidebar:"docs",previous:{title:"LocalStorage",permalink:"/docs/Advanced/LocalStorage"},next:{title:"Performance Tips",permalink:"/docs/Advanced/Performance"}},p={},l=[{value:"Database viewer",id:"database-viewer",level:2},{value:"Which SQLite version am I using?",id:"which-sqlite-version-am-i-using",level:2},{value:"Prepopulating database on native",id:"prepopulating-database-on-native",level:2},{value:"Override entity ID generator",id:"override-entity-id-generator",level:2}],d={toc:l};function u(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,r.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"various-pro-tips"},"Various Pro Tips"),(0,i.kt)("h2",{id:"database-viewer"},"Database viewer"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://github.com/Nozbe/WatermelonDB/issues/710"},"See discussion")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Android")," - you can use the new ",(0,i.kt)("a",{parentName:"p",href:"https://medium.com/androiddevelopers/database-inspector-9e91aa265316"},"App Inspector")," in modern versions of Android Studio."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Via Flipper")," You can also use Facebook Flipper ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/panz3r/react-native-flipper-databases#readme"},"with a plugin"),". See ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/Nozbe/WatermelonDB/issues/653"},"discussion"),"."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"iOS")," - check open database path in iOS System Log (via Console for plugged-in device, or Xcode logs, or ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/Nozbe/WatermelonDB/issues/710#issuecomment-776255654"},"by using ",(0,i.kt)("inlineCode",{parentName:"a"},"find")),"), then open it via ",(0,i.kt)("inlineCode",{parentName:"p"},"sqlite3")," in the console, or an external tool like ",(0,i.kt)("a",{parentName:"p",href:"https://sqlitebrowser.org"},"sqlitebrowser")),(0,i.kt)("h2",{id:"which-sqlite-version-am-i-using"},"Which SQLite version am I using?"),(0,i.kt)("p",null,"This usually only matters if you use raw SQL to use new SQLite versions:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"On iOS, we use whatever SQLite version is bundled with the OS. ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/yapstudios/YapDatabase/wiki/SQLite-version-(bundled-with-OS)"},"Here's a table of iOS version - SQLite version matches")),(0,i.kt)("li",{parentName:"ul"},"On Android in JSI mode, we use SQLite bundled with WatermelonDB. See ",(0,i.kt)("inlineCode",{parentName:"li"},"@nozbe/sqlite")," NPM dependency version to see which SQLite version is bundled."),(0,i.kt)("li",{parentName:"ul"},"On Android NOT in JSI mode, we use the SQLite bundled with the OS")),(0,i.kt)("p",null,"BTW: We're happy to accept contributions so that you can choose custom version or build of SQLite in all modes and on all platforms, but it needs to be opt-in (this adds to build time and binary size and most people don't need this)"),(0,i.kt)("h2",{id:"prepopulating-database-on-native"},"Prepopulating database on native"),(0,i.kt)("p",null,"There's no built-in support for this. One way is to generate a SQLite DB (you can use the the Node SQLite support in 0.19.0-2 pre-release or extract it from an ios/android app), bundle it with the app, and then use a bit of code to check if the DB you're expecting it available, and if not, making a copy of the default DB \u2014 before you attempt loading DB from JS side. ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/Nozbe/WatermelonDB/issues/774#issuecomment-667981361"},"See discussion")),(0,i.kt)("h2",{id:"override-entity-id-generator"},"Override entity ID generator"),(0,i.kt)("p",null,"You can optionally overide WatermelonDB's id generator with your own custom id generator in order to create specific random id formats (e.g. if UUIDs are used in the backend). In your database index file, pass a function with your custom ID generator to ",(0,i.kt)("inlineCode",{parentName:"p"},"setGenerator"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"// Define a custom ID generator.\nfunction randomString(): string {\n  return 'RANDOM STRING';\n}\nsetGenerator(randomString);\n\n// or as anonymous function:\nsetGenerator(() => 'RANDOM STRING');\n")),(0,i.kt)("p",null,"To get UUIDs specifically, install ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/uuidjs/uuid"},"uuid")," and then pass their id generator to ",(0,i.kt)("inlineCode",{parentName:"p"},"setGenerator"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"import { v4 as uuidv4 } from 'uuid';\n\nsetGenerator(() => uuidv4());\n")))}u.isMDXComponent=!0}}]);