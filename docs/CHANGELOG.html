<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-docs/CHANGELOG">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.0">
<title data-rh="true">Changelog | WatermelonDB</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://watermelondb.dev/img/watermelon-social-card.png"><meta data-rh="true" name="twitter:image" content="https://watermelondb.dev/img/watermelon-social-card.png"><meta data-rh="true" property="og:url" content="https://watermelondb.dev/docs/CHANGELOG"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Changelog | WatermelonDB"><meta data-rh="true" name="description" content="All notable changes to this project will be documented in this file."><meta data-rh="true" property="og:description" content="All notable changes to this project will be documented in this file."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://watermelondb.dev/docs/CHANGELOG"><link data-rh="true" rel="alternate" href="https://watermelondb.dev/docs/CHANGELOG" hreflang="en"><link data-rh="true" rel="alternate" href="https://watermelondb.dev/docs/CHANGELOG" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="WatermelonDB RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="WatermelonDB Atom Feed"><link rel="stylesheet" href="/assets/css/styles.170b7886.css">
<link rel="preload" href="/assets/js/runtime~main.088a360d.js" as="script">
<link rel="preload" href="/assets/js/main.a8eb047d.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="WatermelonDB Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="WatermelonDB Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">WatermelonDB</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs">0.27.0</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/nozbe/WatermelonDB" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs">About</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Installation">Setup</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Relation">Usage</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Sync/Intro">Sync</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Advanced/CreateUpdateTracking">Advanced</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Implementation/Architecture">Contributing</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/Roadmap">Other</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Roadmap">Roadmap</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CONTRIBUTING">Contributing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/CHANGELOG">Changelog</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Other</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Changelog</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 0.27.0</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Changelog</h1><p>All notable changes to this project will be documented in this file.</p><p>Contributors: Please add your changes to CHANGELOG-Unreleased.md</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="026---2023-04-28">0.26 - 2023-04-28<a href="#026---2023-04-28" class="hash-link" aria-label="Direct link to 0.26 - 2023-04-28" title="Direct link to 0.26 - 2023-04-28">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="highlights">Highlights<a href="#highlights" class="hash-link" aria-label="Direct link to Highlights" title="Direct link to Highlights">​</a></h3><p><strong>New Native Modules</strong></p><p>We&#x27;re transitioning SQLite adapters for React Native <strong>from Kotlin and Swift to Java and Objective-C</strong>.</p><p>This is only a small part of WatermelonDB, yet is responsible for a disproportionate amount of issues
raised, such as Kotlin version conflicts, Expo build failures, CocoaPods use_frameworks! issues. It
makes library installation and updates more complicated for users. It complicates maintenance.
Swift doesn&#x27;t play nicely with either React Native&#x27;s legacy Native Module system, nor can it interact
cleanly with C++ (JSI/New Architecture) without going through Objective-C++.</p><p>In other words, in the context of a React Native library, the benefit of these modern, nicer to use
languages is far outweighed by the downsides. That&#x27;s why we (@radex &amp; @rozpierog) decided to rewrite
the iOS and Android implementations to Objective-C and Java respectively.</p><p>0.26 is a transition release, and it contains both implementations. If you find a regression caused
by the new bridge, pass <code>{disableNewBridge: true}</code> to <code>new SQLiteAdapter()</code> <strong>and file an issue</strong>.
We plan to remove the old implementation in 0.27 or 0.28 release.</p><p><strong>New documentation</strong></p><p>We have a brand new documentation page, built with Docusaurus (contributed by @ErickLuizA).</p><p>We plan to expand guides, add typing to examples, and add a proper API reference, but we need your
help to do this! See: <a href="https://github.com/Nozbe/WatermelonDB/issues/1481" target="_blank" rel="noopener noreferrer">https://github.com/Nozbe/WatermelonDB/issues/1481</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="breaking-changes">BREAKING CHANGES<a href="#breaking-changes" class="hash-link" aria-label="Direct link to BREAKING CHANGES" title="Direct link to BREAKING CHANGES">​</a></h3><ul><li><p>[iOS]<!-- --> You should remove import of WatermelonDB&#x27;s <code>SupportingFiles/Bridging.h</code> from your app project&#x27;s <code>Bridging.h</code>.
If this removal causes build issues, please file an issue.</p></li><li><p>[iOS]<!-- --> In your Podfile, replace previous WatermelonDB&#x27;s pod imports with this:</p><div class="language-rb codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rb codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Uncomment this line if you&#x27;re not using auto-linking</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># pod &#x27;WatermelonDB&#x27;, path: &#x27;../node_modules/@nozbe/watermelondb&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># WatermelonDB dependency</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pod &#x27;simdjson&#x27;, path: &#x27;../node_modules/@nozbe/simdjson&#x27;, modular_headers: true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>Removed functions deprecated for 2+ years:</p><ul><li><code>Collection.unsafeFetchRecordsWithSQL()</code>. Use <code>.query(Q.unsafeSqlQuery(&#x27;select * from...&#x27;)).fetch()</code> instead.</li><li><code>Database.action()</code>. Use <code>Database.write()</code> instead.</li><li><code>.subAction()</code>. Use <code>.callWriter()</code> instead.</li><li><code>@action</code> decorator. Use <code>@writer</code> instead.</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="deprecations">Deprecations<a href="#deprecations" class="hash-link" aria-label="Direct link to Deprecations" title="Direct link to Deprecations">​</a></h3><h3 class="anchor anchorWithStickyNavbar_LWe7" id="new-features">New features<a href="#new-features" class="hash-link" aria-label="Direct link to New features" title="Direct link to New features">​</a></h3><ul><li>[Android]<!-- --> Added <code>experimentalUnsafeNativeReuse</code> option to SQLiteAdapter. See <code>src/adapters/sqlite/type.js</code> for more details</li><li>You can now pass an array to <code>Q.and(conditions)</code>, <code>Q.or(conditions)</code>, <code>collection.query(conditions)</code>, <code>query.extend(conditions)</code> in addition to spreading multiple arguments</li><li>Added JSDoc comments to many APIs</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="fixes">Fixes<a href="#fixes" class="hash-link" aria-label="Direct link to Fixes" title="Direct link to Fixes">​</a></h3><ul><li>Improved resiliency to &quot;Maximum call stack size exceeded&quot; errors</li><li>[JSI]<!-- --> Improved reliability when reloading RCTBridge</li><li>[iOS]<!-- --> Fix &quot;range of supported deployment targets&quot; Xcode warning</li><li><code>randomId</code> uses better randum number generator</li><li>Fixed &quot;no such index&quot; when using non-standard schemas and &gt;1k bulk updates</li><li>Fixes and changes included in <code>@nozbe/with-observables@1.5.0</code></li><li>[Flow]<!-- --> <code>query.batch([model, falsy])</code> no longer raises an error</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="performance">Performance<a href="#performance" class="hash-link" aria-label="Direct link to Performance" title="Direct link to Performance">​</a></h3><ul><li>Warning is now given if a large number of arguments is passed to <code>Q.and, Q.or, Collection.query, Database.batch</code> instead of a single array</li><li><code>randomId()</code> is now 2x faster on Chrome, 10x faster on Safari, 2x faster on iOS (Hermes)</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="changes">Changes<a href="#changes" class="hash-link" aria-label="Direct link to Changes" title="Direct link to Changes">​</a></h3><ul><li><code>randomId</code>: now also generates upper-case letters</li><li>Simplified CocoaPods/iOS integration</li><li>Docs improvements: SQLite versions, Flow declarations, Installation</li><li>Improved diagnostic warnings and errors: JSI, Writer/Reader</li><li>Remove old diagnostic warnings no longer relevant: <code>multiple Q.on()s</code>, <code>Database</code>, <code>LokiJSAdapter</code>, <code>SQLiteAdapter</code></li><li>Updated <code>flow-bin</code> to 0.200. This shouldn&#x27;t have an impact on you, but could fix or break Flow if you don&#x27;t have WatermelonDB set to <code>[declarations]</code> mode</li><li>Updated <code>@babel/runtime</code> to 7.20.13</li><li>Updated <code>rxjs</code> to 7.8.0</li><li>Updated <code>sqlite</code> (SQLite used on Android in JSI mode) to 3.40.1</li><li>Updated <code>simdjson</code> to 3.1.0</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="internal">Internal<a href="#internal" class="hash-link" aria-label="Direct link to Internal" title="Direct link to Internal">​</a></h3><ul><li>Cleaned up QueryDescription, ios folder structure, JSI implementation by splitting them into smaller parts.</li><li>[Android][jsi]<!-- --> Simplify CMakeLists</li><li>Improve release script</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="0255---2023-02-01">0.25.5 - 2023-02-01<a href="#0255---2023-02-01" class="hash-link" aria-label="Direct link to 0.25.5 - 2023-02-01" title="Direct link to 0.25.5 - 2023-02-01">​</a></h2><ul><li>Fix Android auto-linking</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="0254---2023-01-31">0.25.4 - 2023-01-31<a href="#0254---2023-01-31" class="hash-link" aria-label="Direct link to 0.25.4 - 2023-01-31" title="Direct link to 0.25.4 - 2023-01-31">​</a></h2><ul><li>[Sync]<!-- --> Improve memory consumption (less likely to get &quot;Maximum callstack exceeded&quot; error)</li><li>[TypeScript]<!-- --> Fix type of <code>DirtyRaw</code> to <code>{ [key: string]: any }</code> (from <code>Object</code>)</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="0253---2023-01-30">0.25.3 - 2023-01-30<a href="#0253---2023-01-30" class="hash-link" aria-label="Direct link to 0.25.3 - 2023-01-30" title="Direct link to 0.25.3 - 2023-01-30">​</a></h2><ul><li>Fixed TypeError regression</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="0252---2023-01-30">0.25.2 - 2023-01-30<a href="#0252---2023-01-30" class="hash-link" aria-label="Direct link to 0.25.2 - 2023-01-30" title="Direct link to 0.25.2 - 2023-01-30">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="fixes-1">Fixes<a href="#fixes-1" class="hash-link" aria-label="Direct link to Fixes" title="Direct link to Fixes">​</a></h3><ul><li>Fix TypeScript issues (@paulrostorp feat. @enahum)</li><li>Fix compilation on Kotlin 1.7</li><li>Fix regression in Sync that could cause <code>Record ID xxx#yyy was sent over the bridge, but it&#x27;s not cached</code> error</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="internal-1">Internal<a href="#internal-1" class="hash-link" aria-label="Direct link to Internal" title="Direct link to Internal">​</a></h3><ul><li>Update internal dependencies</li><li>Fix Android CI</li><li>Improve TypeScript CI</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="0251---2023-01-23">0.25.1 - 2023-01-23<a href="#0251---2023-01-23" class="hash-link" aria-label="Direct link to 0.25.1 - 2023-01-23" title="Direct link to 0.25.1 - 2023-01-23">​</a></h2><ul><li>Fix React Native 0.71+ Android broken build</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="025---2023-01-20">0.25 - 2023-01-20<a href="#025---2023-01-20" class="hash-link" aria-label="Direct link to 0.25 - 2023-01-20" title="Direct link to 0.25 - 2023-01-20">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="highlights-1">Highlights<a href="#highlights-1" class="hash-link" aria-label="Direct link to Highlights" title="Direct link to Highlights">​</a></h3><ul><li>Fix broken build on React Native 0.71+</li><li>[Expo]<!-- --> Fixes Expo SDK 44+ build errors (@Kudo)</li><li>[JSI]<!-- --> Fix an issue that sometimes led to crashing app upon database close</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="breaking-changes-1">BREAKING CHANGES<a href="#breaking-changes-1" class="hash-link" aria-label="Direct link to BREAKING CHANGES" title="Direct link to BREAKING CHANGES">​</a></h3><ul><li>[Query]<!-- --> <code>Q.where(xxx, undefined)</code> will now throw an error. This is a bug fix, since comparing to
undefined was never allowed and would either error out or produce a wrong result in some cases.
However, it could technically break an app that relied on existing buggy behavior</li><li>[JSI+Swift]<!-- --> If you use <code>watermelondbProvideSyncJson()</code> native iOS API, you might need to add <code>import WatermelonDB</code></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="new-features-1">New features<a href="#new-features-1" class="hash-link" aria-label="Direct link to New features" title="Direct link to New features">​</a></h3><ul><li>[adapters]<!-- --> Adapter objects can now be distinguished by checking their <code>static adapterType</code></li><li>[Query]<!-- --> New <code>Q.includes(&#x27;foo&#x27;)</code> query for case-sensitive exact string includes comparison</li><li>[adapters]<!-- --> Adapter objects now returns <code>dbName</code></li><li>[Sync]<!-- --> Replacement Sync - a new advanced sync feature. Server can now send a full dataset (same as
during initial sync) and indicate with <code>{ experimentalStrategy: &#x27;replacement&#x27; }</code> that instead of applying a diff,
local database should be replaced with the dataset sent. Local records not present in the changeset
will be deleted. However, unlike clearing database and logging in again, unpushed local changes
(to records that are kept after replacement) are preserved. This is useful for recovering from a
corrupted local database, or as a hack to deal with very large state changes such that server doesn&#x27;t
know how to efficiently send incremental changes and wants to send a full dataset instead. See docs
for more details.</li><li>[Sync]<!-- --> Added <code>onWillApplyRemoteChanges</code> callback</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="performance-1">Performance<a href="#performance-1" class="hash-link" aria-label="Direct link to Performance" title="Direct link to Performance">​</a></h3><ul><li>[LokiJS]<!-- --> Updated Loki with some performance improvements</li><li>[iOS]<!-- --> JSLockPerfHack now works on iOS 15</li><li>[Sync]<!-- --> Improved performance of processing large pulls</li><li>Improved <code>@json</code> decorator, now with optional <code>{ memo: true }</code> parameter</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="changes-1">Changes<a href="#changes-1" class="hash-link" aria-label="Direct link to Changes" title="Direct link to Changes">​</a></h3><ul><li>[Docs]<!-- --> Added additional Android JSI installation step</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="fixes-2">Fixes<a href="#fixes-2" class="hash-link" aria-label="Direct link to Fixes" title="Direct link to Fixes">​</a></h3><ul><li>[TypeScript]<!-- --> Improve typings: add unsafeExecute method, localStorage property to Database</li><li>[android]<!-- --> Fixed compilation on some setups due to a missing <code>&lt;cassert&gt;</code> import</li><li>[sync]<!-- --> Fixed marking changes as synced for users that don&#x27;t keep globally unique (only per-table unique) IDs</li><li>Fix <code>Model.experimentalMarkAsDeleted/experimentalDestroyPermanently()</code> throwing an error in some cases</li><li>Fixes included in updated <code>withObservables</code></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="024---2021-10-28">0.24 - 2021-10-28<a href="#024---2021-10-28" class="hash-link" aria-label="Direct link to 0.24 - 2021-10-28" title="Direct link to 0.24 - 2021-10-28">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="breaking-changes-2">BREAKING CHANGES<a href="#breaking-changes-2" class="hash-link" aria-label="Direct link to BREAKING CHANGES" title="Direct link to BREAKING CHANGES">​</a></h3><ul><li><code>Q.experimentalSortBy</code>, <code>Q.experimentalSkip</code>, <code>Q.experimentalTake</code> have been renamed to <code>Q.sortBy</code>, <code>Q.skip</code>, <code>Q.take</code> respectively</li><li><strong>RxJS has been updated to 7.3.0</strong>. If you&#x27;re not importing from <code>rxjs</code> in your app, this doesn&#x27;t apply to you. If you are, read RxJS 7 breaking changes: <a href="https://rxjs.dev/deprecations/breaking-changes" target="_blank" rel="noopener noreferrer">https://rxjs.dev/deprecations/breaking-changes</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="new-features-2">New features<a href="#new-features-2" class="hash-link" aria-label="Direct link to New features" title="Direct link to New features">​</a></h3><ul><li><strong>LocalStorage</strong>. <code>database.localStorage</code> is now available</li><li><strong>sortBy, skip, take</strong> are now available in LokiJSAdapter as well</li><li><strong>Disposable records</strong>. Read-only records that cannot be saved in the database, updated, or deleted and only exist for as long as you keep a reference to them in memory can now be created using <code>collection.disposableFromDirtyRaw()</code>. This is useful when you&#x27;re adding online-only features to an otherwise offline-first app.</li><li>[Sync]<!-- --> <code>experimentalRejectedIds</code> parameter now available in push response to allow partial rejection of an otherwise successful sync</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="fixes-3">Fixes<a href="#fixes-3" class="hash-link" aria-label="Direct link to Fixes" title="Direct link to Fixes">​</a></h3><ul><li>Fixes an issue when using Headless JS on Android with JSI mode enabled - pass <code>usesExclusiveLocking: true</code> to SQLiteAdapter to enable</li><li>Fixes Typescript annotations for Collection and adapters/sqlite</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="023---2021-07-22">0.23 - 2021-07-22<a href="#023---2021-07-22" class="hash-link" aria-label="Direct link to 0.23 - 2021-07-22" title="Direct link to 0.23 - 2021-07-22">​</a></h2><p>This is a big release to WatermelonDB with new advanced features, great performance improvements, and important fixes to JSI on Android.</p><p>Please don&#x27;t get scared off the long list of breaking changes - they are all either simple Find&amp;Replace renames or changes to internals you probably don&#x27;t use. It shouldn&#x27;t take you more than 15 minutes to upgrade to 0.23.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="breaking-changes-3">BREAKING CHANGES<a href="#breaking-changes-3" class="hash-link" aria-label="Direct link to BREAKING CHANGES" title="Direct link to BREAKING CHANGES">​</a></h3><ul><li><strong>iOS Installation change</strong>. You need to add this line to your Podfile: <code>pod &#x27;simdjson&#x27;, path: &#x27;../node_modules/@nozbe/simdjson&#x27;</code></li><li>Deprecated <code>new Database({ actionsEnabled: false })</code> options is now removed. Actions are always enabled.</li><li>Deprecated <code>new SQLiteAdapter({ synchronous: true })</code> option is now removed. Use <code>{ jsi: true }</code> instead.</li><li>Deprecated <code>Q.unsafeLokiFilter</code> is now removed. Use <code>Q.unsafeLokiTransform((raws, loki) =&gt; raws.filter(raw =&gt; ...))</code> instead.</li><li>Deprecated <code>Query.hasJoins</code> is now removed</li><li>Changes to <code>LokiJSAdapter</code> constructor options:<ul><li><code>indexedDBSerializer</code> -&gt; <code>extraIncrementalIDBOptions: { serializeChunk, deserializeChunk }</code></li><li><code>onIndexedDBFetchStart</code> -&gt; <code>extraIncrementalIDBOptions: { onFetchStart }</code></li><li><code>onIndexedDBVersionChange</code> -&gt; <code>extraIncrementalIDBOptions: { onversionchange }</code></li><li><code>autosave: false</code> -&gt; <code>extraLokiOptions: { autosave: false }</code></li></ul></li><li>Changes to Internal APIs. These were never meant to be public, and so are unlikely to affect you:<ul><li><code>Model._isCommited</code>, <code>._hasPendingUpdate</code>, <code>._hasPendingDelete</code> have been removed and changed to <code>Model._pendingState</code></li><li><code>Collection.unsafeClearCache()</code> is no longer exposed</li></ul></li><li>Values passed to <code>adapter.setLocal()</code> are now validated to be strings. This is technically a bug fix, since local storage was always documented to only accept strings, however applications may have relied on this lack of validation. Adding this validation was necessary to achieve consistent behavior between SQLiteAdapter and LokiJSAdapter</li><li><code>unsafeSql</code> passed to <code>appSchema</code> will now also be called when dropping and later recreating all database indices on large batches. A second argument was added so you can distinguish between these cases. See Schema docs for more details.</li><li><strong>Changes to sync change tracking</strong>. The behavior of <code>record._raw._changed</code> and <code>record._raw._status</code> (a.k.a. <code>record.syncStatus</code>) has changed. This is unlikely to be a breaking change to you, unless you&#x27;re writing your own sync engine or rely on these low-level details.<ul><li>Previously, <!-- -->_<!-- -->changed was always empty when <!-- -->_<!-- -->status=created. Now, <!-- -->_<!-- -->changed is not populated during initial creation of a record, but a later update will add changed fields to <!-- -->_<!-- -->changed. This change was necessary to fix a long-standing Sync bug.</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="deprecations-1">Deprecations<a href="#deprecations-1" class="hash-link" aria-label="Direct link to Deprecations" title="Direct link to Deprecations">​</a></h3><ul><li><code>database.action(() =&gt; {})</code> is now deprecated. Use <code>db.write(() =&gt; {})</code> instead (or <code>db.read(() =&gt; {})</code> if you only need consistency but are not writing any changes to DB)</li><li><code>@action</code> is now deprecated. Use <code>@writer</code> or <code>@reader</code> instead</li><li><code>.subAction()</code> is now deprecated. Use <code>.callReader()</code> or <code>.callWriter()</code> instead</li><li><code>Collection.unsafeFetchRecordsWithSQL()</code> is now deprecated. Use <code>collection.query(Q.unsafeSqlQuery(&quot;select * from...&quot;)).fetch()</code> instead.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="new-features-3">New features<a href="#new-features-3" class="hash-link" aria-label="Direct link to New features" title="Direct link to New features">​</a></h3><ul><li><code>db.write(writer =&gt; { ... writer.batch() })</code> - you can now call batch on the interface passed to a writer block</li><li><strong>Fetching record IDs and unsafe raws.</strong> You can now optimize fetching of queries that only require IDs, not full cached records:<ul><li><code>await query.fetchIds()</code> will return an array of record ids</li><li><code>await query.unsafeFetchRaw()</code> will return an array of unsanitized, unsafe raw objects (use alongside <code>Q.unsafeSqlQuery</code> to exclude unnecessary or include extra columns)</li><li>advanced <code>adapter.queryIds()</code>, <code>adapter.unsafeQueryRaw</code> are also available</li></ul></li><li><strong>Raw SQL queries</strong>. New syntax for running unsafe raw SQL queries:<ul><li><code>collection.query(Q.unsafeSqlQuery(&quot;select * from tasks where foo = ?&quot;, [&#x27;bar&#x27;])).fetch()</code></li><li>You can now also run <code>.fetchCount()</code>, <code>.fetchIds()</code> on SQL queries</li><li>You can now safely pass values for SQL placeholders by passing an array</li><li>You can also observe an unsafe raw SQL query -- with some caveats! refer to documentation for more details</li></ul></li><li><strong>Unsafe raw execute</strong>. You can now execute arbitrary SQL queries (SQLiteAdapter) or access Loki object directly (LokiJSAdapter) using <code>adapter.unsafeExecute</code> -- see docs for more details</li><li><strong>Turbo Login</strong>. You can now speed up the initial (login) sync by up to 5.3x with Turbo Login. See Sync docs for more details.</li><li>New diagnostic tool - <strong>debugPrintChanges</strong>. See Sync documentation for more details</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="performance-2">Performance<a href="#performance-2" class="hash-link" aria-label="Direct link to Performance" title="Direct link to Performance">​</a></h3><ul><li>The order of Q. clauses in a query is now preserved - previously, the clauses could get rearranged and produce a suboptimal query</li><li>[SQLite]<!-- --> <code>adapter.batch()</code> with large numbers of created/updated/deleted records is now between 16-48% faster</li><li>[LokiJS]<!-- --> Querying and finding is now faster - unnecessary data copy is skipped</li><li>[jsi]<!-- --> 15-30% faster querying on JSC (iOS) when the number of returned records is large</li><li>[jsi]<!-- --> up to 52% faster batch creation (yes, that&#x27;s on top of the improvement listed above!)</li><li>Fixed a performance bug that caused observed items on a list observer with <code>.observeWithColumns()</code> to be unnecessarily re-rendered just before they were removed from the list</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="changes-2">Changes<a href="#changes-2" class="hash-link" aria-label="Direct link to Changes" title="Direct link to Changes">​</a></h3><ul><li>All Watermelon console logs are prepended with a 🍉 tag</li><li>Extra protections against improper use of writers/readers (formerly actions) have been added</li><li>Queries with multiple top-level <code>Q.on(&#x27;table&#x27;, ...)</code> now produce a warning. Use <code>Q.on(&#x27;table&#x27;, [condition1, condition2, ...])</code> syntax instead.</li><li>[jsi]<!-- --> WAL mode is now used</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="fixes-4">Fixes<a href="#fixes-4" class="hash-link" aria-label="Direct link to Fixes" title="Direct link to Fixes">​</a></h3><ul><li>[jsi]<!-- --> Fix a race condition where commands sent to the database right after instantiating SQLiteAdapter would fail</li><li>[jsi]<!-- --> Fix incorrect error reporting on some sqlite errors</li><li>[jsi]<!-- --> Fix issue where app would crash on Android/Hermes on reload</li><li>[jsi]<!-- --> Fix IO errors on Android</li><li>[sync]<!-- --> Fixed a long-standing bug that would cause records that are created before a sync and updated during sync&#x27;s push to lose their most recent changes on a subsequent sync</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="internal-2">Internal<a href="#internal-2" class="hash-link" aria-label="Direct link to Internal" title="Direct link to Internal">​</a></h3><ul><li>Internal changes to SQLiteAdapter:<ul><li>.batch is no longer available on iOS implementation</li><li>.batch/.batchJSON internal format has changed</li><li>.getDeletedRecords, destroyDeletedRecords, setLocal, removeLocal is no longer available</li></ul></li><li>encoded SQLiteAdapter schema has changed</li><li>LokiJSAdapter has had many internal changes</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="022---2021-05-07">0.22 - 2021-05-07<a href="#022---2021-05-07" class="hash-link" aria-label="Direct link to 0.22 - 2021-05-07" title="Direct link to 0.22 - 2021-05-07">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="breaking-changes-4">BREAKING CHANGES<a href="#breaking-changes-4" class="hash-link" aria-label="Direct link to BREAKING CHANGES" title="Direct link to BREAKING CHANGES">​</a></h3><ul><li>[SQLite]<!-- --> <code>experimentalUseJSI: true</code> option has been renamed to <code>jsi: true</code></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="deprecations-2">Deprecations<a href="#deprecations-2" class="hash-link" aria-label="Direct link to Deprecations" title="Direct link to Deprecations">​</a></h3><ul><li>[LokiJS]<!-- --> <code>Q.unsafeLokiFilter</code> is now deprecated and will be removed in a future version.
Use <code>Q.unsafeLokiTransform((raws, loki) =&gt; raws.filter(raw =&gt; ...))</code> instead.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="new-features-4">New features<a href="#new-features-4" class="hash-link" aria-label="Direct link to New features" title="Direct link to New features">​</a></h3><ul><li>[SQLite][JSI]<!-- --> <code>jsi: true</code> now works on Android - see docs for installation info</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="performance-3">Performance<a href="#performance-3" class="hash-link" aria-label="Direct link to Performance" title="Direct link to Performance">​</a></h3><ul><li>Removed dependency on rambdax and made the util library smaller</li><li>Faster withObservables</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="changes-3">Changes<a href="#changes-3" class="hash-link" aria-label="Direct link to Changes" title="Direct link to Changes">​</a></h3><ul><li>Synchronization: <code>pushChanges</code> is optional, will not calculate local changes if not specified.</li><li>withObservables is now a dependency of WatermelonDB for simpler installation and consistent updates. You can (and generally should) delete <code>@nozbe/with-observables</code> from your app&#x27;s package.json</li><li>[Docs]<!-- --> Add advanced tutorial to share database across iOS targets - @thiagobrez</li><li>[SQLite]<!-- --> Allowed callbacks (within the migrationEvents object) to be passed so as to track the migration events status ( onStart, onSuccess, onError ) - @avinashlng1080</li><li>[SQLite]<!-- --> Added a dev-only <code>Query._sql()</code> method for quickly extracting SQL from Queries for debugging purposes</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="fixes-5">Fixes<a href="#fixes-5" class="hash-link" aria-label="Direct link to Fixes" title="Direct link to Fixes">​</a></h3><ul><li>Non-react statics hoisting in <code>withDatabase()</code></li><li>Fixed incorrect reference to <code>process</code>, which can break apps in some environments (e.g. webpack5)</li><li>[SQLite][JSI]<!-- --> Fixed JSI mode when running on Hermes</li><li>Fixed a race condition when using standard fetch methods alongside <code>Collection.unsafeFetchRecordsWithSQL</code> - @jspizziri</li><li>withObservables shouldn&#x27;t cause any RxJS issues anymore as it no longer imports RxJS</li><li>[Typescript]<!-- --> Added <code>onSetUpError</code> and <code>onIndexedDBFetchStart</code> fields to <code>LokiAdapterOptions</code>; fixes TS error - @3DDario</li><li>[Typescript]<!-- --> Removed duplicated identifiers <code>useWebWorker</code> and <code>useIncrementalIndexedDB</code> in <code>LokiAdapterOptions</code> - @3DDario</li><li>[Typescript]<!-- --> Fix default export in logger util</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="021---2021-03-24">0.21 - 2021-03-24<a href="#021---2021-03-24" class="hash-link" aria-label="Direct link to 0.21 - 2021-03-24" title="Direct link to 0.21 - 2021-03-24">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="breaking-changes-5">BREAKING CHANGES<a href="#breaking-changes-5" class="hash-link" aria-label="Direct link to BREAKING CHANGES" title="Direct link to BREAKING CHANGES">​</a></h3><ul><li>[LokiJS]<!-- --> <code>useWebWorker</code> and <code>useIncrementalIndexedDB</code> options are now required (previously, skipping them would only trigger a warning)</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="new-features-5">New features<a href="#new-features-5" class="hash-link" aria-label="Direct link to New features" title="Direct link to New features">​</a></h3><ul><li>[Model]<!-- --> <code>Model.update</code> method now returns updated record</li><li>[adapters]<!-- --> <code>onSetUpError: Error =&gt; void</code> option is added to both <code>SQLiteAdapter</code> and <code>LokiJSAdapter</code>. Supply this option to catch initialization errors and offer the user to reload or log out</li><li>[LokiJS]<!-- --> new <code>extraLokiOptions</code> and <code>extraIncrementalIDBOptions</code> options</li><li>[Android]<!-- --> Autolinking is now supported.<ul><li>If You upgrade to <code>&lt;= v0.21.0</code> <strong>AND</strong> are on a version of React Native which supports Autolinking, you will need to remove the config manually linking WatermelonDB.</li><li>You can resolve this issue by <strong>REMOVING</strong> the lines of config from your project which are <em>added</em> in the <code>Manual Install ONLY</code> section of the <a href="https://nozbe.github.io/WatermelonDB/Installation.html#android-react-native" target="_blank" rel="noopener noreferrer">Android Install docs</a>.</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="performance-4">Performance<a href="#performance-4" class="hash-link" aria-label="Direct link to Performance" title="Direct link to Performance">​</a></h3><ul><li>[LokiJS]<!-- --> Improved performance of launching the app</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="changes-4">Changes<a href="#changes-4" class="hash-link" aria-label="Direct link to Changes" title="Direct link to Changes">​</a></h3><ul><li>[LokiJS]<!-- --> <code>useWebWorker: true</code> and <code>useIncrementalIndexedDB: false</code> options are now deprecated. If you rely on these features, please file an issue!</li><li>[Sync]<!-- --> Optional <code>log</code> passed to sync now has more helpful diagnostic information</li><li>[Sync]<!-- --> Open-sourced a simple SyncLogger you can optionally use. See docs for more info.</li><li>[SQLiteAdapter]<!-- --> <code>synchronous:true</code> option is now deprecated and will be replaced with <code>experimentalUseJSI: true</code> in the future. Please test if your app compiles and works well with <code>experimentalUseJSI: true</code>, and if not - file an issue!</li><li>[LokiJS]<!-- --> Changed default autosave interval from 250 to 500ms</li><li>[Typescript]<!-- --> Add <code>experimentalNestedJoin</code> definition and <code>unsafeSqlExpr</code> clause</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="fixes-6">Fixes<a href="#fixes-6" class="hash-link" aria-label="Direct link to Fixes" title="Direct link to Fixes">​</a></h3><ul><li>[LokiJS]<!-- --> Fixed a case where IndexedDB could get corrupted over time</li><li>[Resilience]<!-- --> Added extra diagnostics for when you encounter the <code>Record ID aa#bb was sent over the bridge, but it&#x27;s not cached</code> error and a recovery path (LokiJSAdapter-only). Please file an issue if you encounter this issue!</li><li>[Typescript]<!-- --> Fixed type on OnFunction to accept <code>and</code> in join</li><li>[Typescript]<!-- --> Fixed type <code>database#batch(records)</code>&#x27;s argument <code>records</code> to accept mixed types</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="internal-3">Internal<a href="#internal-3" class="hash-link" aria-label="Direct link to Internal" title="Direct link to Internal">​</a></h3><ul><li>Added an experimental mode where a broken database state is detected, further mutations prevented, and the user notified</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="020---2020-10-05">0.20 - 2020-10-05<a href="#020---2020-10-05" class="hash-link" aria-label="Direct link to 0.20 - 2020-10-05" title="Direct link to 0.20 - 2020-10-05">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="breaking-changes-6">BREAKING CHANGES<a href="#breaking-changes-6" class="hash-link" aria-label="Direct link to BREAKING CHANGES" title="Direct link to BREAKING CHANGES">​</a></h3><p>This release has unintentionally broken RxJS for some apps using <code>with-observables</code>. If you have this issue, please update <code>@nozbe/with-observables</code> to the latest version.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="new-features-6">New features<a href="#new-features-6" class="hash-link" aria-label="Direct link to New features" title="Direct link to New features">​</a></h3><ul><li>[Sync]<!-- --> Conflict resolution can now be customized. See docs for more details</li><li>[Android]<!-- --> Autolinking is now supported</li><li>[LokiJS]<!-- --> Adapter autosave option is now configurable</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="changes-5">Changes<a href="#changes-5" class="hash-link" aria-label="Direct link to Changes" title="Direct link to Changes">​</a></h3><ul><li>Interal RxJS imports have been refactor such that rxjs-compat should never be used now</li><li>[Performance]<!-- --> Tweak Babel config to produce smaller code</li><li>[Performance]<!-- --> LokiJS-based apps will now take up to 30% less time to load the database (id and unique indicies are generated lazily)</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="fixes-7">Fixes<a href="#fixes-7" class="hash-link" aria-label="Direct link to Fixes" title="Direct link to Fixes">​</a></h3><ul><li>[iOS]<!-- --> Fixed crash on database reset in apps linked against iOS 14 SDK</li><li>[LokiJS]<!-- --> Fix <code>Q.like</code> being broken for multi-line strings on web</li><li>Fixed warn &quot;import cycle&quot; from DialogProvider (#786) by @gmonte.</li><li>Fixed cache date as instance of Date (#828) by @djorkaeffalexandre.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="019---2020-08-17">0.19 - 2020-08-17<a href="#019---2020-08-17" class="hash-link" aria-label="Direct link to 0.19 - 2020-08-17" title="Direct link to 0.19 - 2020-08-17">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="new-features-7">New features<a href="#new-features-7" class="hash-link" aria-label="Direct link to New features" title="Direct link to New features">​</a></h3><ul><li>[iOS]<!-- --> Added CocoaPods support - @leninlin</li><li>[NodeJS]<!-- --> Introducing a new SQLite Adapter based integration to NodeJS. This requires a
peer dependency on <a href="https://github.com/JoshuaWise/better-sqlite3" target="_blank" rel="noopener noreferrer">better-sqlite3</a>
and should work with the same configuration as iOS/Android - @sidferreira</li><li>[Android]<!-- --> <code>exerimentalUseJSI</code> option has been enabled on Android. However, it requires some app-specific setup which is not yet documented - stay tuned for upcoming releases</li><li>[Schema][Migrations]<!-- --> You can now pass <code>unsafeSql</code> parameters to schema builder and migration steps to modify SQL generated to set up the database or perform migrations. There&#x27;s also new <code>unsafeExecuteSql</code> migration step. Please use this only if you know what you&#x27;re doing — you shouldn&#x27;t need this in 99% of cases. See Schema and Migrations docs for more details</li><li>[LokiJS][Performance]<!-- --> Added experimental <code>onIndexedDBFetchStart</code> and <code>indexedDBSerializer</code> options to <code>LokiJSAdapter</code>. These can be used to improve app launch time. See <code>src/adapters/lokijs/index.js</code> for more details.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="changes-6">Changes<a href="#changes-6" class="hash-link" aria-label="Direct link to Changes" title="Direct link to Changes">​</a></h3><ul><li>[Performance]<!-- --> findAndObserve is now able to emit a value synchronously. By extension, this makes Relations put into withObservables able to render the child component in one shot. Avoiding the extra unnecessary render cycles avoids a lot of DOM and React commit-phase work, which can speed up loading some views by 30%</li><li>[Performance]<!-- --> LokiJS is now faster (refactored encodeQuery, skipped unnecessary clone operations)</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="018---2020-06-30">0.18 - 2020-06-30<a href="#018---2020-06-30" class="hash-link" aria-label="Direct link to 0.18 - 2020-06-30" title="Direct link to 0.18 - 2020-06-30">​</a></h2><p>Another WatermelonDB release after just a week? Yup! And it&#x27;s jam-packed full of features!</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="new-features-8">New features<a href="#new-features-8" class="hash-link" aria-label="Direct link to New features" title="Direct link to New features">​</a></h3><ul><li><p>[Query]<!-- --> <code>Q.on</code> queries are now far more flexible. Previously, they could only be placed at the top
level of a query. See Docs for more details. Now, you can:</p><ul><li><p>Pass multiple conditions on the related query, like so:</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">collection</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">query</span><span class="token punctuation" style="color:#393A34">(</span><span class="token constant" style="color:#36acaa">Q</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">on</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;projects&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token constant" style="color:#36acaa">Q</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">where</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;foo&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;bar&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">Q</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">where</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;bar&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;baz&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>You can place <code>Q.on</code> deeper inside the query (nested inside <code>Q.and()</code>, <code>Q.or()</code>). However, you
must explicitly list all tables you&#x27;re joining on at the beginning of a query, using:
<code>Q.experimentalJoinTables([&#x27;join_table1&#x27;, &#x27;join_table2&#x27;])</code>.</p></li><li><p>You can nest <code>Q.on</code> conditions inside <code>Q.on</code>, e.g. to make a condition on a grandchild.
To do so, it&#x27;s required to pass <code>Q.experimentalNestedJoin(&#x27;parent_table&#x27;, &#x27;grandparent_table&#x27;)</code> at the beginning
of a query</p></li></ul></li><li><p>[Query]<!-- --> <code>Q.unsafeSqlExpr()</code> and <code>Q.unsafeLokiExpr()</code> are introduced to allow adding bits of queries
that are not supported by the WatermelonDB query language without having to use <code>unsafeFetchRecordsWithSQL()</code>.
See docs for more details</p></li><li><p>[Query]<!-- --> <code>Q.unsafeLokiFilter((rawRecord, loki) =&gt; boolean)</code> can now be used as an escape hatch to make
queries with LokiJSAdapter that are not otherwise possible (e.g. multi-table column comparisons).
See docs for more details</p></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="changes-7">Changes<a href="#changes-7" class="hash-link" aria-label="Direct link to Changes" title="Direct link to Changes">​</a></h3><ul><li>[Performance][LokiJS]<!-- --> Improved performance of queries containing query comparisons on LokiJSAdapter</li><li>[Docs]<!-- --> Added Contributing guide for Query language improvements</li><li>[Deprecation]<!-- --> <code>Query.hasJoins</code> is deprecated</li><li>[DX]<!-- --> Queries with bad associations now show more helpful error message</li><li>[Query]<!-- --> Counting queries that contain <code>Q.experimentalTake</code> / <code>Q.experimentalSkip</code> is currently broken - previously it would return incorrect results, but
now it will throw an error to avoid confusion. Please contribute to fix the root cause!</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="fixes-8">Fixes<a href="#fixes-8" class="hash-link" aria-label="Direct link to Fixes" title="Direct link to Fixes">​</a></h3><ul><li>[Typescript]<!-- --> Fixed types of Relation</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="internal-4">Internal<a href="#internal-4" class="hash-link" aria-label="Direct link to Internal" title="Direct link to Internal">​</a></h3><ul><li><code>QueryDescription</code> structure has been changed.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="0171---2020-06-24">0.17.1 - 2020-06-24<a href="#0171---2020-06-24" class="hash-link" aria-label="Direct link to 0.17.1 - 2020-06-24" title="Direct link to 0.17.1 - 2020-06-24">​</a></h2><ul><li>Fixed broken iOS build - @mlecoq</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="017---2020-06-22">0.17 - 2020-06-22<a href="#017---2020-06-22" class="hash-link" aria-label="Direct link to 0.17 - 2020-06-22" title="Direct link to 0.17 - 2020-06-22">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="new-features-9">New features<a href="#new-features-9" class="hash-link" aria-label="Direct link to New features" title="Direct link to New features">​</a></h3><ul><li><p>[Sync]<!-- --> Introducing Migration Syncs - this allows fully consistent synchronization when migrating
between schema versions. Previously, there was no mechanism to incrementally fetch all remote changes in
new tables and columns after a migration - so local copy was likely inconsistent, requiring a re-login.
After adopting migration syncs, Watermelon Sync will request from backend all missing information.
See Sync docs for more details.</p></li><li><p>[iOS]<!-- --> Introducing a new native SQLite database integration, rewritten from scratch in C++, based
on React Native&#x27;s JSI (JavaScript Interface). It is to be considered experimental, however
we intend to make it the default (and eventually, the only) implementation. In a later release,
Android version will be introduced.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> The new adapter is up to 3x faster than the previously fastest `synchronous: true` option,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> however this speedup is only achieved with some unpublished React Native patches.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> To try out JSI, add `experimentalUseJSI: true` to `SQLiteAdapter` constructor.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>[Query]<!-- --> Added <code>Q.experimentalSortBy(sortColumn, sortOrder)</code>, <code>Q.experimentalTake(count)</code>,
<code>Q.experimentalSkip(count)</code> methods (only availble with SQLiteAdapter) - @Kenneth-KT</p></li><li><p><code>Database.batch()</code> can now be called with a single array of models</p></li><li><p>[DX]<!-- --> <code>Database.get(tableName)</code> is now a shortcut for <code>Database.collections.get(tableName)</code></p></li><li><p>[DX]<!-- --> Query is now thenable - you can now use <code>await query</code> and <code>await query.count</code> instead of <code>await query.fetch()</code> and <code>await query.fetchCount()</code></p></li><li><p>[DX]<!-- --> Relation is now thenable - you can now use <code>await relation</code> instead of <code>await relation.fetch()</code></p></li><li><p>[DX]<!-- --> Exposed <code>collection.db</code> and <code>model.db</code> as shortcuts to get to their Database object</p></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="changes-8">Changes<a href="#changes-8" class="hash-link" aria-label="Direct link to Changes" title="Direct link to Changes">​</a></h3><ul><li>[Hardening]<!-- --> Column and table names starting with <code>__</code>, Object property names (e.g. <code>constructor</code>), and some reserved keywords are now forbidden</li><li>[DX][Hardening]<!-- --> QueryDescription builder methods do tighter type checks, catching more bugs, and
preventing users from unwisely passing unsanitized user data into Query builder methods</li><li>[DX][Hardening]<!-- --> Adapters check early if table names are valid</li><li>[DX]<!-- --> Collection.find reports an error more quickly if an obviously invalid ID is passed</li><li>[DX]<!-- --> Intializing Database with invalid model classes will now show a helpful error</li><li>[DX]<!-- --> DatabaseProvider shows a more helpful error if used improperly</li><li>[Sync]<!-- --> Sync no longer fails if pullChanges returns collections that don&#x27;t exist on the frontend - shows a warning instead. This is to make building backwards-compatible backends less error-prone</li><li>[Sync][Docs]<!-- --> Sync documentation has been rewritten, and is now closer in detail to a formal specification</li><li>[Hardening]<!-- --> database.collections.get() better validates passed value</li><li>[Hardening]<!-- --> Prevents unsafe strings from being passed as column name/table name arguments in QueryDescription</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="fixes-9">Fixes<a href="#fixes-9" class="hash-link" aria-label="Direct link to Fixes" title="Direct link to Fixes">​</a></h3><ul><li>[Sync]<!-- --> Fixed <code>RangeError: Maximum call stack size exceeded</code> when syncing large amounts of data - @leninlin</li><li>[iOS]<!-- --> Fixed a bug that could cause a database operation to fail with an (6) SQLITE_LOCKED error</li><li>[iOS]<!-- --> Fixed &#x27;jsi/jsi.h&#x27; file not found when building at the consumer level. Added path <code>$(SRCROOT)/../../../../../ios/Pods/Headers/Public/React-jsi</code> to Header Search Paths (issue #691) - @victorbutler</li><li>[Native]<!-- --> SQLite keywords used as table or column names no longer crash</li><li>Fixed potential issues when subscribing to database, collection, model, queries passing a subscriber function with the same identity more than once</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="internal-5">Internal<a href="#internal-5" class="hash-link" aria-label="Direct link to Internal" title="Direct link to Internal">​</a></h3><ul><li>Fixed broken adapter tests</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="0151-0161-fix-0162---2020-06-03">0.15.1, 0.16.1-fix, 0.16.2 - 2020-06-03<a href="#0151-0161-fix-0162---2020-06-03" class="hash-link" aria-label="Direct link to 0.15.1, 0.16.1-fix, 0.16.2 - 2020-06-03" title="Direct link to 0.15.1, 0.16.1-fix, 0.16.2 - 2020-06-03">​</a></h2><p>This is a security patch for a vulnerability that could cause maliciously crafted record IDs to
cause all or some of user&#x27;s data to be deleted. More information available via GitHub security advisory</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="0161---2020-05-18">0.16.1 - 2020-05-18<a href="#0161---2020-05-18" class="hash-link" aria-label="Direct link to 0.16.1 - 2020-05-18" title="Direct link to 0.16.1 - 2020-05-18">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="changes-9">Changes<a href="#changes-9" class="hash-link" aria-label="Direct link to Changes" title="Direct link to Changes">​</a></h3><ul><li><code>Database.unsafeResetDatabase()</code> is now less unsafe — more application bugs are being caught</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="fixes-10">Fixes<a href="#fixes-10" class="hash-link" aria-label="Direct link to Fixes" title="Direct link to Fixes">​</a></h3><ul><li>[iOS]<!-- --> Fix build in apps using Flipper</li><li>[Typescript]<!-- --> Added type definition for <code>setGenerator</code>.</li><li>[Typescript]<!-- --> Fixed types of decorators.</li><li>[Typescript]<!-- --> Add Tests to test Types.</li><li>Fixed typo in learn-to-use docs.</li><li>[Typescript]<!-- --> Fixed types of changes.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="internal-6">Internal<a href="#internal-6" class="hash-link" aria-label="Direct link to Internal" title="Direct link to Internal">​</a></h3><ul><li>[SQLite]<!-- --> Infrastruture for a future JSI adapter has been added</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="016---2020-03-06">0.16 - 2020-03-06<a href="#016---2020-03-06" class="hash-link" aria-label="Direct link to 0.16 - 2020-03-06" title="Direct link to 0.16 - 2020-03-06">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="️-breaking">⚠️ Breaking<a href="#️-breaking" class="hash-link" aria-label="Direct link to ⚠️ Breaking" title="Direct link to ⚠️ Breaking">​</a></h3><ul><li><code>experimentalUseIncrementalIndexedDB</code> has been renamed to <code>useIncrementalIndexedDB</code></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="low-breakage-risk">Low breakage risk<a href="#low-breakage-risk" class="hash-link" aria-label="Direct link to Low breakage risk" title="Direct link to Low breakage risk">​</a></h4><ul><li>[adapters]<!-- --> Adapter API has changed from returning Promise to taking callbacks as the last argument. This won&#x27;t affect you unless you call on adapter methods directly. <code>database.adapter</code> returns a new <code>DatabaseAdapterCompat</code> which has the same shape as old adapter API. You can use <code>database.adapter.underlyingAdapter</code> to get back <code>SQLiteAdapter</code> / <code>LokiJSAdapter</code></li><li>[Collection]<!-- --> <code>Collection.fetchQuery</code> and <code>Collection.fetchCount</code> are removed. Please use <code>Query.fetch()</code> and <code>Query.fetchCount()</code>.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="new-features-10">New features<a href="#new-features-10" class="hash-link" aria-label="Direct link to New features" title="Direct link to New features">​</a></h3><ul><li>[SQLiteAdapter][iOS]<!-- --> Add new <code>synchronous</code> option to adapter: <code>new SQLiteAdapter({ ..., synchronous: true })</code>.
When enabled, database operations will block JavaScript thread. Adapter actions will resolve in the
next microtask, which simplifies building flicker-free interfaces. Adapter will fall back to async
operation when synchronous adapter is not available (e.g. when doing remote debugging)</li><li>[LokiJS]<!-- --> Added new <code>onQuotaExceededError?: (error: Error) =&gt; void</code> option to <code>LokiJSAdapter</code> constructor.
This is called when underlying IndexedDB encountered a quota exceeded error (ran out of allotted disk space for app)
This means that app can&#x27;t save more data or that it will fall back to using in-memory database only
Note that this only works when <code>useWebWorker: false</code></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="changes-10">Changes<a href="#changes-10" class="hash-link" aria-label="Direct link to Changes" title="Direct link to Changes">​</a></h3><ul><li>[Performance]<!-- --> Watermelon internals have been rewritten not to rely on Promises and allow some fetch/observe calls to resolve synchronously. Do not rely on this -- external API is still based on Rx and Promises and may resolve either asynchronously or synchronously depending on capabilities. This is meant as a internal performance optimization only for the time being.</li><li>[LokiJS][Performance]<!-- --> Improved worker queue implementation for performance</li><li>[observation]<!-- --> Refactored observer implementations for performance</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="fixes-11">Fixes<a href="#fixes-11" class="hash-link" aria-label="Direct link to Fixes" title="Direct link to Fixes">​</a></h3><ul><li>Fixed a possible cause for &quot;Record ID xxx#yyy was sent over the bridge, but it&#x27;s not cached&quot; error</li><li>[LokiJS]<!-- --> Fixed an issue preventing database from saving when using <code>experimentalUseIncrementalIndexedDB</code></li><li>Fixed a potential issue when using <code>database.unsafeResetDatabase()</code></li><li>[iOS]<!-- --> Fixed issue with clearing database under experimental synchronous mode</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="new-features-experimental">New features (Experimental)<a href="#new-features-experimental" class="hash-link" aria-label="Direct link to New features (Experimental)" title="Direct link to New features (Experimental)">​</a></h3><ul><li>[Model]<!-- --> Added experimental <code>model.experimentalSubscribe((isDeleted) =&gt; { ... })</code> method as a vanilla JS alternative to Rx based <code>model.observe()</code>. Unlike the latter, it does not notify the subscriber immediately upon subscription.</li><li>[Collection]<!-- --> Added internal <code>collection.experimentalSubscribe((changeSet) =&gt; { ... })</code> method as a vanilla JS alternative to Rx based <code>collection.changes</code> (you probably shouldn&#x27;t be using this API anyway)</li><li>[Database]<!-- --> Added experimental <code>database.experimentalSubscribe([&#x27;table1&#x27;, &#x27;table2&#x27;], () =&gt; { ... })</code> method as a vanilla JS alternative to Rx-based <code>database.withChangesForTables()</code>. Unlike the latter, <code>experimentalSubscribe</code> notifies the subscriber only once after a batch that makes a change in multiple collections subscribed to. It also doesn&#x27;t notify the subscriber immediately upon subscription, and doesn&#x27;t send details about the changes, only a signal.</li><li>Added <code>experimentalDisableObserveCountThrottling()</code> to <code>@nozbe/watermelondb/observation/observeCount</code> that globally disables count observation throttling. We think that throttling on WatermelonDB level is not a good feature and will be removed in a future release - and will be better implemented on app level if necessary</li><li>[Query]<!-- --> Added experimental <code>query.experimentalSubscribe(records =&gt; { ... })</code>, <code>query.experimentalSubscribeWithColumns([&#x27;col1&#x27;, &#x27;col2&#x27;], records =&gt; { ... })</code>, and <code>query.experimentalSubscribeToCount(count =&gt; { ... })</code> methods</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="015---2019-11-08">0.15 - 2019-11-08<a href="#015---2019-11-08" class="hash-link" aria-label="Direct link to 0.15 - 2019-11-08" title="Direct link to 0.15 - 2019-11-08">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="highlights-2">Highlights<a href="#highlights-2" class="hash-link" aria-label="Direct link to Highlights" title="Direct link to Highlights">​</a></h3><p>This is a <strong>massive</strong> new update to WatermelonDB! 🍉</p><ul><li><p><strong>Up to 23x faster sync</strong>. You heard that right. We&#x27;ve made big improvements to performance.
In our tests, with a massive sync (first login, 45MB of data / 65K records) we got a speed up of:</p><ul><li>5.7s -&gt; 1.2s on web (5x)</li><li>142s -&gt; 6s on iOS (23x)</li></ul><p>Expect more improvements in the coming releases!</p></li><li><p><strong>Improved LokiJS adapter</strong>. Option to disable web workers, important Safari 13 fix, better performance,
and now works in Private Modes. We recommend adding <code>useWebWorker: false, experimentalUseIncrementalIndexedDB: true</code> options to the <code>LokiJSAdapter</code> constructor to take advantage of the improvements, but please read further changelog to understand the implications of this.</p></li><li><p><strong>Raw SQL queries</strong> now available on iOS and Android thanks to the community</p></li><li><p><strong>Improved TypeScript support</strong> — thanks to the community</p></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="️-breaking-1">⚠️ Breaking<a href="#️-breaking-1" class="hash-link" aria-label="Direct link to ⚠️ Breaking" title="Direct link to ⚠️ Breaking">​</a></h3><ul><li>Deprecated <code>bool</code> schema column type is removed -- please change to <code>boolean</code></li><li>Experimental <code>experimentalSetOnlyMarkAsChangedIfDiffers(false)</code> API is now removed</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="new-featuers">New featuers<a href="#new-featuers" class="hash-link" aria-label="Direct link to New featuers" title="Direct link to New featuers">​</a></h3><ul><li><p>[Collection]<!-- --> Add <code>Collection.unsafeFetchRecordsWithSQL()</code> method. You can use it to fetch record using
raw SQL queries on iOS and Android. Please be careful to avoid SQL injection and other pitfalls of
raw queries</p></li><li><p>[LokiJS]<!-- --> Introduces new <code>new LokiJSAdapter({ ..., experimentalUseIncrementalIndexedDB: true })</code> option.
When enabled, database will be saved to browser&#x27;s IndexedDB using a new adapter that only saves the
changed records, instead of the entire database.</p><p><strong>This works around a serious bug in Safari 13</strong> (<a href="https://bugs.webkit.org/show_bug.cgi?id=202137" target="_blank" rel="noopener noreferrer">https://bugs.webkit.org/show_bug.cgi?id=202137</a>) that causes large
databases to quickly balloon to gigabytes of temporary trash</p><p>This also improves performance of incremental saves, although initial page load or very, very large saves
might be slightly slower.</p><p>This is intended to become the new default option, but it&#x27;s not backwards compatible (if enabled, old database
will be lost). <strong>You&#x27;re welcome to contribute an automatic migration code.</strong></p><p>Note that this option is still experimental, and might change in breaking ways at any time.</p></li><li><p>[LokiJS]<!-- --> Introduces new <code>new LokiJSAdapter({ ..., useWebWorker: false })</code> option. Before, web workers
were always used with <code>LokiJSAdapter</code>. Although web workers may have some performance benefits, disabling them
may lead to lower memory consumption, lower latency, and easier debugging. YMMV.</p></li><li><p>[LokiJS]<!-- --> Added <code>onIndexedDBVersionChange</code> option to <code>LokiJSAdapter</code>. This is a callback that&#x27;s called
when internal IDB version changed (most likely the database was deleted in another browser tab).
Pass a callback to force log out in this copy of the app as well. Note that this only works when
using incrementalIDB and not using web workers</p></li><li><p>[Model]<!-- --> Add <code>Model._dangerouslySetRawWithoutMarkingColumnChange()</code> method. You probably shouldn&#x27;t use it,
but if you know what you&#x27;re doing and want to live-update records from server without marking record as updated,
this is useful</p></li><li><p>[Collection]<!-- --> Add <code>Collection.prepareCreateFromDirtyRaw()</code></p></li><li><p>@json decorator sanitizer functions take an optional second argument, with a reference to the model</p></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="fixes-12">Fixes<a href="#fixes-12" class="hash-link" aria-label="Direct link to Fixes" title="Direct link to Fixes">​</a></h3><ul><li>Pinned required <code>rambdax</code> version to 2.15.0 to avoid console logging bug. In a future release we will switch to our own fork of <code>rambdax</code> to avoid future breakages like this.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="improvements">Improvements<a href="#improvements" class="hash-link" aria-label="Direct link to Improvements" title="Direct link to Improvements">​</a></h3><ul><li>[Performance]<!-- --> Make large batches a lot faster (1.3s shaved off on a 65K insert sample)</li><li>[Performance][iOS]<!-- --> Make large batch inserts an order of magnitude faster</li><li>[Performance][iOS]<!-- --> Make encoding very large queries (with thousands of parameters) 20x faster</li><li>[Performance][LokiJS]<!-- --> Make batch inserts faster (1.5s shaved off on a 65K insert sample)</li><li>[Performance][LokiJS]<!-- --> Various performance improvements</li><li>[Performance][Sync]<!-- --> Make Sync faster</li><li>[Performance]<!-- --> Make observation faster</li><li>[Performance][Android]<!-- --> Make batches faster</li><li>Fix app glitches and performance issues caused by race conditions in <code>Query.observeWithColumns()</code></li><li>[LokiJS]<!-- --> Persistence adapter will now be automatically selected based on availability. By default,
IndexedDB is used. But now, if unavailable (e.g. in private mode), ephemeral memory adapter will be used.</li><li>Disabled console logs regarding new observations (it never actually counted all observations) and
time to query/count/batch (the measures were wildly inaccurate because of asynchronicity - actual
times are much lower)</li><li>[withObservables]<!-- --> Improved performance and debuggability (update withObservables package separately)</li><li>Improved debuggability of Watermelon -- shortened Rx stacks and added function names to aid in understanding
call stacks and profiles</li><li>[adapters]<!-- --> The adapters interface has changed. <code>query()</code> and <code>count()</code> methods now receive a <code>SerializedQuery</code>, and <code>batch()</code> now takes <code>TableName&lt;any&gt;</code> and <code>RawRecord</code> or <code>RecordId</code> instead of <code>Model</code>.</li><li>[Typescript]<!-- --> Typing improvements<ul><li>Added 3 missing properties <code>collections</code>, <code>database</code> and <code>asModel</code> in Model type definition.</li><li>Removed optional flag on <code>actionsEnabled</code> in the Database constructor options since its mandatory since 0.13.0.</li><li>fixed several further typing issues in Model, Relation and lazy decorator</li></ul></li><li>Changed how async functions are transpiled in the library. This could break on really old Android phones
but shouldn&#x27;t matter if you use latest version of React Native. Please report an issue if you see a problem.</li><li>Avoid <code>database</code> prop drilling in the web demo</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="0141---2019-08-31">0.14.1 - 2019-08-31<a href="#0141---2019-08-31" class="hash-link" aria-label="Direct link to 0.14.1 - 2019-08-31" title="Direct link to 0.14.1 - 2019-08-31">​</a></h2><p>Hotfix for rambdax crash</p><ul><li>[Schema]<!-- --> Handle invalid table schema argument in appSchema</li><li>[withObservables]<!-- --> Added TypeScript support (<a href="https://github.com/Nozbe/withObservables/blob/master/CHANGELOG.md" target="_blank" rel="noopener noreferrer">changelog</a>)</li><li>[Electron]<!-- --> avoid <code>Uncaught ReferenceError: global is not defined</code> in electron runtime (<a href="https://github.com/Nozbe/WatermelonDB/issues/453" target="_blank" rel="noopener noreferrer">#453</a>)</li><li>[rambdax]<!-- --> Replaces <code>contains</code> with <code>includes</code> due to <code>contains</code> deprecation <a href="https://github.com/selfrefactor/rambda/commit/1dc1368f81e9f398664c9d95c2efbc48b5cdff9b#diff-04c6e90faac2675aa89e2176d2eec7d8R2209" target="_blank" rel="noopener noreferrer">https://github.com/selfrefactor/rambda/commit/1dc1368f81e9f398664c9d95c2efbc48b5cdff9b#diff-04c6e90faac2675aa89e2176d2eec7d8R2209</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="0140---2019-08-02">0.14.0 - 2019-08-02<a href="#0140---2019-08-02" class="hash-link" aria-label="Direct link to 0.14.0 - 2019-08-02" title="Direct link to 0.14.0 - 2019-08-02">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="new-features-11">New features<a href="#new-features-11" class="hash-link" aria-label="Direct link to New features" title="Direct link to New features">​</a></h3><ul><li>[Query]<!-- --> Added support for <code>notLike</code> queries 🎉</li><li>[Actions]<!-- --> You can now batch delete record with all descendants using experimental functions <code>experimentalMarkAsDeleted</code> or <code>experimentalDestroyPermanently</code></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="0130---2019-07-18">0.13.0 - 2019-07-18<a href="#0130---2019-07-18" class="hash-link" aria-label="Direct link to 0.13.0 - 2019-07-18" title="Direct link to 0.13.0 - 2019-07-18">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="️-breaking-2">⚠️ Breaking<a href="#️-breaking-2" class="hash-link" aria-label="Direct link to ⚠️ Breaking" title="Direct link to ⚠️ Breaking">​</a></h3><ul><li><p>[Database]<!-- --> It is now mandatory to pass <code>actionsEnabled:</code> option to Database constructor.
It is recommended that you enable this option:</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> database </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Database</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">adapter</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token spread operator" style="color:#393A34">...</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">modelClasses</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token spread operator" style="color:#393A34">...</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">actionsEnabled</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>See <code>docs/Actions.md</code> for more details about Actions. You can also pass <code>false</code> to maintain
backward compatibility, but this option <strong>will be removed</strong> in a later version</p></li><li><p>[Adapters]<!-- --> <code>migrationsExperimental</code> prop of <code>SQLiteAdapter</code> and <code>LokiJSAdapter</code> has been renamed
to <code>migrations</code>.</p></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="new-features-12">New features<a href="#new-features-12" class="hash-link" aria-label="Direct link to New features" title="Direct link to New features">​</a></h3><ul><li>[Actions]<!-- --> You can now batch deletes by using <code>prepareMarkAsDeleted</code> or <code>prepareDestroyPermanently</code></li><li>[Sync]<!-- --> Performance: <code>synchronize()</code> no longer calls your <code>pushChanges()</code> function if there are no
local changes to push. This is meant to save unnecessary network bandwidth. ⚠️ Note that this
could be a breaking change if you rely on it always being called</li><li>[Sync]<!-- --> When setting new values to fields on a record, the field (and record) will no longer be
marked as changed if the field&#x27;s value is the same. This is meant to improve performance and avoid
unnecessary code in the app. ⚠️ Note that this could be a breaking change if you rely on the old
behavior. For now you can import <code>experimentalSetOnlyMarkAsChangedIfDiffers</code> from
<code>@nozbe/watermelondb/Model/index</code> and call if with <code>(false)</code> to bring the old behavior back, but
this will be removed in the later version -- create a new issue explaining why you need this</li><li>[Sync]<!-- --> Small perf improvements</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="improvements-1">Improvements<a href="#improvements-1" class="hash-link" aria-label="Direct link to Improvements" title="Direct link to Improvements">​</a></h3><ul><li>[Typescript]<!-- --> Improved types for SQLite and LokiJS adapters, migrations, models, the database and the logger.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="0123---2019-05-06">0.12.3 - 2019-05-06<a href="#0123---2019-05-06" class="hash-link" aria-label="Direct link to 0.12.3 - 2019-05-06" title="Direct link to 0.12.3 - 2019-05-06">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="changes-11">Changes<a href="#changes-11" class="hash-link" aria-label="Direct link to Changes" title="Direct link to Changes">​</a></h3><ul><li>[Database]<!-- --> You can now update the random id schema by importing
<code>import { setGenerator } from &#x27;@nozbe/watermelondb/utils/common/randomId&#x27;</code> and then calling <code>setGenerator(newGenenerator)</code>.
This allows WatermelonDB to create specific IDs for example if your backend uses UUIDs.</li><li>[Typescript]<!-- --> Type improvements to SQLiteAdapter and Database</li><li>[Tests]<!-- --> remove cleanup for <a href="mailto:react-hooks-testing-library@0.5.0" target="_blank" rel="noopener noreferrer">react-hooks-testing-library@0.5.0</a> compatibility</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="0122---2019-04-19">0.12.2 - 2019-04-19<a href="#0122---2019-04-19" class="hash-link" aria-label="Direct link to 0.12.2 - 2019-04-19" title="Direct link to 0.12.2 - 2019-04-19">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="fixes-13">Fixes<a href="#fixes-13" class="hash-link" aria-label="Direct link to Fixes" title="Direct link to Fixes">​</a></h3><ul><li>[TypeScript]<!-- --> &#x27;Cannot use &#x27;in&#x27; operator to search for &#x27;initializer&#x27;; decorator fix</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="changes-12">Changes<a href="#changes-12" class="hash-link" aria-label="Direct link to Changes" title="Direct link to Changes">​</a></h3><ul><li>[Database]<!-- --> You can now pass falsy values to <code>Database.batch(...)</code> (false, null, undefined). This is
useful in keeping code clean when doing operations conditionally. (Also works with <code>model.batch(...)</code>)</li><li>[Decorators]<!-- -->. You can now use <code>@action</code> on methods of any object that has a <code>database: Database</code>
property, and <code>@field @children @date @relation @immutableRelation @json @text @nochange</code> decorators on
any object with a <code>asModel: Model</code> property.</li><li>[Sync]<!-- --> Adds a temporary/experimental <code>_unsafeBatchPerCollection: true</code> flag to <code>synchronize()</code>. This
causes server changes to be committed to database in multiple batches, and not one. This is NOT preferred
for reliability and performance reasons, but it works around a memory issue that might cause your app
to crash on very large syncs (&gt;20,000 records). Use this only if necessary. Note that this option
might be removed at any time if a better solution is found.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="0121---2019-04-01">0.12.1 - 2019-04-01<a href="#0121---2019-04-01" class="hash-link" aria-label="Direct link to 0.12.1 - 2019-04-01" title="Direct link to 0.12.1 - 2019-04-01">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="️-hotfix">⚠️ Hotfix<a href="#️-hotfix" class="hash-link" aria-label="Direct link to ⚠️ Hotfix" title="Direct link to ⚠️ Hotfix">​</a></h3><ul><li><p>[iOS]<!-- --> Fix runtime crash when built with Xcode 10.2 (Swift 5 runtime).</p><p><strong>⚠️ Note</strong>: You need to upgrade to React Native 0.59.3 for this to work. If you can&#x27;t upgrade
React Native yet, either stick to Xcode 10.1 or manually apply this patch:
<a href="https://github.com/Nozbe/WatermelonDB/pull/302/commits/aa4e08ad0fa55f434da2a94407c51fc5ff18e506" target="_blank" rel="noopener noreferrer">https://github.com/Nozbe/WatermelonDB/pull/302/commits/aa4e08ad0fa55f434da2a94407c51fc5ff18e506</a></p></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="changes-13">Changes<a href="#changes-13" class="hash-link" aria-label="Direct link to Changes" title="Direct link to Changes">​</a></h3><ul><li>[Sync]<!-- --> Adds basic sync logging capability to Sync. Pass an empty object to <code>synchronize()</code> to populate it with diagnostic information:<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> log </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">synchronize</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> database</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> log</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token spread operator" style="color:#393A34">...</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">log</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">startedAt</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>See Sync documentation for more details.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="0120---2019-03-18">0.12.0 - 2019-03-18<a href="#0120---2019-03-18" class="hash-link" aria-label="Direct link to 0.12.0 - 2019-03-18" title="Direct link to 0.12.0 - 2019-03-18">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="added">Added<a href="#added" class="hash-link" aria-label="Direct link to Added" title="Direct link to Added">​</a></h3><ul><li>[Hooks]<!-- --> new <code>useDatabase</code> hook for consuming the Database Context:<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> useDatabase </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@nozbe/watermelondb/hooks&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function maybe-class-name" style="color:#d73a49">Component</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> database </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useDatabase</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li>[TypeScript]<!-- --> added <code>.d.ts</code> files. Please note: TypeScript definitions are currently incomplete and should be used as a guide only. <strong>PRs for improvements would be greatly appreciated!</strong></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="performance-5">Performance<a href="#performance-5" class="hash-link" aria-label="Direct link to Performance" title="Direct link to Performance">​</a></h3><ul><li>Improved UI performance by consolidating multiple observation emissions into a single per-collection batch emission when doing batch changes</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="0110---2019-03-12">0.11.0 - 2019-03-12<a href="#0110---2019-03-12" class="hash-link" aria-label="Direct link to 0.11.0 - 2019-03-12" title="Direct link to 0.11.0 - 2019-03-12">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="breaking">Breaking<a href="#breaking" class="hash-link" aria-label="Direct link to Breaking" title="Direct link to Breaking">​</a></h3><ul><li>⚠️ Potentially BREAKING fix: a <code>@date</code> field now returns a Jan 1, 1970 date instead of <code>null</code> if the field&#x27;s raw value is <code>0</code>.
This is considered a bug fix, since it&#x27;s unexpected to receive a <code>null</code> from a getter of a field whose column schema doesn&#x27;t say <code>isOptional: true</code>.
However, if you relied on this behavior, this might be a breaking change.</li><li>⚠️ BREAKING: <code>Database.unsafeResetDatabase()</code> now requires that you run it inside an Action</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="bug-fixes">Bug fixes<a href="#bug-fixes" class="hash-link" aria-label="Direct link to Bug fixes" title="Direct link to Bug fixes">​</a></h3><ul><li>[Sync]<!-- --> Fixed an issue where synchronization would continue running despite <code>unsafeResetDatabase</code> being called</li><li>[Android]<!-- --> fix compile error for kotlin 1.3+</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="other-changes">Other changes<a href="#other-changes" class="hash-link" aria-label="Direct link to Other changes" title="Direct link to Other changes">​</a></h3><ul><li>Actions are now aborted when <code>unsafeResetDatabase()</code> is called, making reseting database a little bit safer</li><li>Updated demo dependencies</li><li>LokiJS is now a dependency of WatermelonDB (although it&#x27;s only required for use on the web)</li><li>[Android]<!-- --> removed unused test class</li><li>[Android]<!-- --> updated ktlint to <code>0.30.0</code></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="0101---2019-02-12">0.10.1 - 2019-02-12<a href="#0101---2019-02-12" class="hash-link" aria-label="Direct link to 0.10.1 - 2019-02-12" title="Direct link to 0.10.1 - 2019-02-12">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="changes-14">Changes<a href="#changes-14" class="hash-link" aria-label="Direct link to Changes" title="Direct link to Changes">​</a></h3><ul><li>[Android]<!-- --> Changed <code>compile</code> to <code>implementation</code> in Library Gradle file<ul><li>⚠️ might break build if you are using Android Gradle Plugin &lt;3.X</li></ul></li><li>Updated <code>peerDependency</code> <code>react-native</code> to <code>0.57.0</code></li><li>[Sync]<!-- --> Added <code>hasUnsyncedChanges()</code> helper method</li><li>[Sync]<!-- --> Improved documentation for backends that can&#x27;t distinguish between <code>created</code> and <code>updated</code> records</li><li>[Sync]<!-- --> Improved diagnostics / protection against edge cases</li><li>[iOS]<!-- --> Add missing <code>header search path</code> to support <strong>ejected</strong> expo project.</li><li>[Android]<!-- --> Fix crash on android &lt; 5.0</li><li>[iOS]<!-- --> <code>SQLiteAdapter</code>&#x27;s <code>dbName</code> path now allows you to pass an absolute path to a file, instead of a name</li><li>[Web]<!-- --> Add adaptive layout for demo example with smooth scrolling for iOS</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="0100---2019-01-18">0.10.0 - 2019-01-18<a href="#0100---2019-01-18" class="hash-link" aria-label="Direct link to 0.10.0 - 2019-01-18" title="Direct link to 0.10.0 - 2019-01-18">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="breaking-1">Breaking<a href="#breaking-1" class="hash-link" aria-label="Direct link to Breaking" title="Direct link to Breaking">​</a></h3><ul><li><strong>BREAKING:</strong> Table column <code>last_modified</code> is no longer automatically added to all database tables. If
you don&#x27;t use this column (e.g. in your custom sync code), you don&#x27;t have to do anything.
If you do, manually add this column to all table definitions in your Schema:<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{ name: &#x27;last_modified&#x27;, type: &#x27;number&#x27;, isOptional: true }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><strong>Don&#x27;t</strong> bump schema version or write a migration for this.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="new">New<a href="#new" class="hash-link" aria-label="Direct link to New" title="Direct link to New">​</a></h3><ul><li><p><strong>Actions API</strong>.</p><p>This was actually released in 0.8.0 but is now documented.
With Actions enabled, all create/update/delete/batch calls must be wrapped in an Action.</p><p>To use Actions, call <code>await database.action(async () =&gt; { /* perform writes here */ }</code>, and in
Model instance methods, you can just decorate the whole method with <code>@action</code>.</p><p>This is necessary for Watermelon Sync, and also to enable greater safety and consistency.</p><p>To enable actions, add <code>actionsEnabled: true</code> to <code>new Database({ ... })</code>. In a future release this
will be enabled by default, and later, made mandatory.</p><p>See documentation for more details.</p></li><li><p><strong>Watermelon Sync Adapter</strong> (Experimental)</p><p>Added <code>synchronize()</code> function that allows you to easily add full synchronization capabilities to
your Watermelon app. You only need to provide two fetch calls to your remote server that conforms
to Watermelon synchronization protocol, and all the client-side processing (applying remote changes,
resolving conflicts, finding local changes, and marking them as synced) is done by Watermelon.</p><p>See documentation for more details.</p></li><li><p><strong>Support caching for non-global IDs at Native level</strong></p></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="090---2018-11-23">0.9.0 - 2018-11-23<a href="#090---2018-11-23" class="hash-link" aria-label="Direct link to 0.9.0 - 2018-11-23" title="Direct link to 0.9.0 - 2018-11-23">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="new-1">New<a href="#new-1" class="hash-link" aria-label="Direct link to New" title="Direct link to New">​</a></h3><ul><li>Added <code>Q.like</code> - you can now make queries similar to SQL <code>LIKE</code></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="080---2018-11-16">0.8.0 - 2018-11-16<a href="#080---2018-11-16" class="hash-link" aria-label="Direct link to 0.8.0 - 2018-11-16" title="Direct link to 0.8.0 - 2018-11-16">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="new-2">New<a href="#new-2" class="hash-link" aria-label="Direct link to New" title="Direct link to New">​</a></h3><ul><li>Added <code>DatabaseProvider</code> and <code>withDatabase</code> Higher-Order Component to reduce prop drilling</li><li>Added experimental Actions API. This will be documented in a future release.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="fixes-14">Fixes<a href="#fixes-14" class="hash-link" aria-label="Direct link to Fixes" title="Direct link to Fixes">​</a></h3><ul><li>Fixes crash on older Android React Native targets without <code>jsc-android</code> installed</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="070---2018-10-31">0.7.0 - 2018-10-31<a href="#070---2018-10-31" class="hash-link" aria-label="Direct link to 0.7.0 - 2018-10-31" title="Direct link to 0.7.0 - 2018-10-31">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="deprecations-3">Deprecations<a href="#deprecations-3" class="hash-link" aria-label="Direct link to Deprecations" title="Direct link to Deprecations">​</a></h3><ul><li>[Schema]<!-- --> Column type &#x27;bool&#x27; is deprecated — change to &#x27;boolean&#x27;</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="new-3">New<a href="#new-3" class="hash-link" aria-label="Direct link to New" title="Direct link to New">​</a></h3><ul><li>Added support for Schema Migrations. See documentation for more details.</li><li>Added fundaments for integration of Danger with Jest</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="changes-15">Changes<a href="#changes-15" class="hash-link" aria-label="Direct link to Changes" title="Direct link to Changes">​</a></h3><ul><li>Fixed &quot;dependency cycle&quot; warning</li><li>[SQLite]<!-- --> Fixed rare cases where database could be left in an unusable state (added missing transaction)</li><li>[Flow]<!-- --> Fixes <code>oneOf()</code> typing and some other variance errors</li><li>[React Native]<!-- --> App should launch a little faster, because schema is only compiled on demand now</li><li>Fixed typos in README.md</li><li>Updated Flow to 0.85</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="062---2018-10-04">0.6.2 - 2018-10-04<a href="#062---2018-10-04" class="hash-link" aria-label="Direct link to 0.6.2 - 2018-10-04" title="Direct link to 0.6.2 - 2018-10-04">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="deprecations-4">Deprecations<a href="#deprecations-4" class="hash-link" aria-label="Direct link to Deprecations" title="Direct link to Deprecations">​</a></h3><ul><li>The <code>@nozbe/watermelondb/babel/cjs</code> / <code>@nozbe/watermelondb/babel/esm</code> Babel plugin that ships with Watermelon is deprecated and no longer necessary. Delete it from your Babel config as it will be removed in a future update</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="refactoring">Refactoring<a href="#refactoring" class="hash-link" aria-label="Direct link to Refactoring" title="Direct link to Refactoring">​</a></h3><ul><li>Removed dependency on <code>async</code> (Web Worker should be ~30KB smaller)</li><li>Refactored <code>Collection</code> and <code>simpleObserver</code> for getting changes in an array and also adds CollectionChangeTypes for differentiation between different changes</li><li>Updated dependencies</li><li>Simplified build system by using relative imports</li><li>Simplified build package by outputting CJS-only files</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="061---2018-09-20">0.6.1 - 2018-09-20<a href="#061---2018-09-20" class="hash-link" aria-label="Direct link to 0.6.1 - 2018-09-20" title="Direct link to 0.6.1 - 2018-09-20">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="added-1">Added<a href="#added-1" class="hash-link" aria-label="Direct link to Added" title="Direct link to Added">​</a></h3><ul><li>Added iOS and Android integration tests and lint checks to TravisCI</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="changed">Changed<a href="#changed" class="hash-link" aria-label="Direct link to Changed" title="Direct link to Changed">​</a></h3><ul><li>Changed Flow setup for apps using Watermelon - see docs/Advanced/Flow.md</li><li>Improved documentation, and demo code</li><li>Updated dependencies</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="fixed">Fixed<a href="#fixed" class="hash-link" aria-label="Direct link to Fixed" title="Direct link to Fixed">​</a></h3><ul><li>Add quotes to all names in sql queries to allow keywords as table or column names</li><li>Fixed running model tests in apps with Watermelon in the loop</li><li>Fixed Flow when using Watermelon in apps</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="060---2018-09-05">0.6.0 - 2018-09-05<a href="#060---2018-09-05" class="hash-link" aria-label="Direct link to 0.6.0 - 2018-09-05" title="Direct link to 0.6.0 - 2018-09-05">​</a></h2><p>Initial release of WatermelonDB</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/nozbe/WatermelonDB/edit/master/docs-website/docs/docs/CHANGELOG.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/CONTRIBUTING"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Contributing</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#026---2023-04-28" class="table-of-contents__link toc-highlight">0.26 - 2023-04-28</a><ul><li><a href="#highlights" class="table-of-contents__link toc-highlight">Highlights</a></li><li><a href="#breaking-changes" class="table-of-contents__link toc-highlight">BREAKING CHANGES</a></li><li><a href="#deprecations" class="table-of-contents__link toc-highlight">Deprecations</a></li><li><a href="#new-features" class="table-of-contents__link toc-highlight">New features</a></li><li><a href="#fixes" class="table-of-contents__link toc-highlight">Fixes</a></li><li><a href="#performance" class="table-of-contents__link toc-highlight">Performance</a></li><li><a href="#changes" class="table-of-contents__link toc-highlight">Changes</a></li><li><a href="#internal" class="table-of-contents__link toc-highlight">Internal</a></li></ul></li><li><a href="#0255---2023-02-01" class="table-of-contents__link toc-highlight">0.25.5 - 2023-02-01</a></li><li><a href="#0254---2023-01-31" class="table-of-contents__link toc-highlight">0.25.4 - 2023-01-31</a></li><li><a href="#0253---2023-01-30" class="table-of-contents__link toc-highlight">0.25.3 - 2023-01-30</a></li><li><a href="#0252---2023-01-30" class="table-of-contents__link toc-highlight">0.25.2 - 2023-01-30</a><ul><li><a href="#fixes-1" class="table-of-contents__link toc-highlight">Fixes</a></li><li><a href="#internal-1" class="table-of-contents__link toc-highlight">Internal</a></li></ul></li><li><a href="#0251---2023-01-23" class="table-of-contents__link toc-highlight">0.25.1 - 2023-01-23</a></li><li><a href="#025---2023-01-20" class="table-of-contents__link toc-highlight">0.25 - 2023-01-20</a><ul><li><a href="#highlights-1" class="table-of-contents__link toc-highlight">Highlights</a></li><li><a href="#breaking-changes-1" class="table-of-contents__link toc-highlight">BREAKING CHANGES</a></li><li><a href="#new-features-1" class="table-of-contents__link toc-highlight">New features</a></li><li><a href="#performance-1" class="table-of-contents__link toc-highlight">Performance</a></li><li><a href="#changes-1" class="table-of-contents__link toc-highlight">Changes</a></li><li><a href="#fixes-2" class="table-of-contents__link toc-highlight">Fixes</a></li></ul></li><li><a href="#024---2021-10-28" class="table-of-contents__link toc-highlight">0.24 - 2021-10-28</a><ul><li><a href="#breaking-changes-2" class="table-of-contents__link toc-highlight">BREAKING CHANGES</a></li><li><a href="#new-features-2" class="table-of-contents__link toc-highlight">New features</a></li><li><a href="#fixes-3" class="table-of-contents__link toc-highlight">Fixes</a></li></ul></li><li><a href="#023---2021-07-22" class="table-of-contents__link toc-highlight">0.23 - 2021-07-22</a><ul><li><a href="#breaking-changes-3" class="table-of-contents__link toc-highlight">BREAKING CHANGES</a></li><li><a href="#deprecations-1" class="table-of-contents__link toc-highlight">Deprecations</a></li><li><a href="#new-features-3" class="table-of-contents__link toc-highlight">New features</a></li><li><a href="#performance-2" class="table-of-contents__link toc-highlight">Performance</a></li><li><a href="#changes-2" class="table-of-contents__link toc-highlight">Changes</a></li><li><a href="#fixes-4" class="table-of-contents__link toc-highlight">Fixes</a></li><li><a href="#internal-2" class="table-of-contents__link toc-highlight">Internal</a></li></ul></li><li><a href="#022---2021-05-07" class="table-of-contents__link toc-highlight">0.22 - 2021-05-07</a><ul><li><a href="#breaking-changes-4" class="table-of-contents__link toc-highlight">BREAKING CHANGES</a></li><li><a href="#deprecations-2" class="table-of-contents__link toc-highlight">Deprecations</a></li><li><a href="#new-features-4" class="table-of-contents__link toc-highlight">New features</a></li><li><a href="#performance-3" class="table-of-contents__link toc-highlight">Performance</a></li><li><a href="#changes-3" class="table-of-contents__link toc-highlight">Changes</a></li><li><a href="#fixes-5" class="table-of-contents__link toc-highlight">Fixes</a></li></ul></li><li><a href="#021---2021-03-24" class="table-of-contents__link toc-highlight">0.21 - 2021-03-24</a><ul><li><a href="#breaking-changes-5" class="table-of-contents__link toc-highlight">BREAKING CHANGES</a></li><li><a href="#new-features-5" class="table-of-contents__link toc-highlight">New features</a></li><li><a href="#performance-4" class="table-of-contents__link toc-highlight">Performance</a></li><li><a href="#changes-4" class="table-of-contents__link toc-highlight">Changes</a></li><li><a href="#fixes-6" class="table-of-contents__link toc-highlight">Fixes</a></li><li><a href="#internal-3" class="table-of-contents__link toc-highlight">Internal</a></li></ul></li><li><a href="#020---2020-10-05" class="table-of-contents__link toc-highlight">0.20 - 2020-10-05</a><ul><li><a href="#breaking-changes-6" class="table-of-contents__link toc-highlight">BREAKING CHANGES</a></li><li><a href="#new-features-6" class="table-of-contents__link toc-highlight">New features</a></li><li><a href="#changes-5" class="table-of-contents__link toc-highlight">Changes</a></li><li><a href="#fixes-7" class="table-of-contents__link toc-highlight">Fixes</a></li></ul></li><li><a href="#019---2020-08-17" class="table-of-contents__link toc-highlight">0.19 - 2020-08-17</a><ul><li><a href="#new-features-7" class="table-of-contents__link toc-highlight">New features</a></li><li><a href="#changes-6" class="table-of-contents__link toc-highlight">Changes</a></li></ul></li><li><a href="#018---2020-06-30" class="table-of-contents__link toc-highlight">0.18 - 2020-06-30</a><ul><li><a href="#new-features-8" class="table-of-contents__link toc-highlight">New features</a></li><li><a href="#changes-7" class="table-of-contents__link toc-highlight">Changes</a></li><li><a href="#fixes-8" class="table-of-contents__link toc-highlight">Fixes</a></li><li><a href="#internal-4" class="table-of-contents__link toc-highlight">Internal</a></li></ul></li><li><a href="#0171---2020-06-24" class="table-of-contents__link toc-highlight">0.17.1 - 2020-06-24</a></li><li><a href="#017---2020-06-22" class="table-of-contents__link toc-highlight">0.17 - 2020-06-22</a><ul><li><a href="#new-features-9" class="table-of-contents__link toc-highlight">New features</a></li><li><a href="#changes-8" class="table-of-contents__link toc-highlight">Changes</a></li><li><a href="#fixes-9" class="table-of-contents__link toc-highlight">Fixes</a></li><li><a href="#internal-5" class="table-of-contents__link toc-highlight">Internal</a></li></ul></li><li><a href="#0151-0161-fix-0162---2020-06-03" class="table-of-contents__link toc-highlight">0.15.1, 0.16.1-fix, 0.16.2 - 2020-06-03</a></li><li><a href="#0161---2020-05-18" class="table-of-contents__link toc-highlight">0.16.1 - 2020-05-18</a><ul><li><a href="#changes-9" class="table-of-contents__link toc-highlight">Changes</a></li><li><a href="#fixes-10" class="table-of-contents__link toc-highlight">Fixes</a></li><li><a href="#internal-6" class="table-of-contents__link toc-highlight">Internal</a></li></ul></li><li><a href="#016---2020-03-06" class="table-of-contents__link toc-highlight">0.16 - 2020-03-06</a><ul><li><a href="#️-breaking" class="table-of-contents__link toc-highlight">⚠️ Breaking</a></li><li><a href="#new-features-10" class="table-of-contents__link toc-highlight">New features</a></li><li><a href="#changes-10" class="table-of-contents__link toc-highlight">Changes</a></li><li><a href="#fixes-11" class="table-of-contents__link toc-highlight">Fixes</a></li><li><a href="#new-features-experimental" class="table-of-contents__link toc-highlight">New features (Experimental)</a></li></ul></li><li><a href="#015---2019-11-08" class="table-of-contents__link toc-highlight">0.15 - 2019-11-08</a><ul><li><a href="#highlights-2" class="table-of-contents__link toc-highlight">Highlights</a></li><li><a href="#️-breaking-1" class="table-of-contents__link toc-highlight">⚠️ Breaking</a></li><li><a href="#new-featuers" class="table-of-contents__link toc-highlight">New featuers</a></li><li><a href="#fixes-12" class="table-of-contents__link toc-highlight">Fixes</a></li><li><a href="#improvements" class="table-of-contents__link toc-highlight">Improvements</a></li></ul></li><li><a href="#0141---2019-08-31" class="table-of-contents__link toc-highlight">0.14.1 - 2019-08-31</a></li><li><a href="#0140---2019-08-02" class="table-of-contents__link toc-highlight">0.14.0 - 2019-08-02</a><ul><li><a href="#new-features-11" class="table-of-contents__link toc-highlight">New features</a></li></ul></li><li><a href="#0130---2019-07-18" class="table-of-contents__link toc-highlight">0.13.0 - 2019-07-18</a><ul><li><a href="#️-breaking-2" class="table-of-contents__link toc-highlight">⚠️ Breaking</a></li><li><a href="#new-features-12" class="table-of-contents__link toc-highlight">New features</a></li><li><a href="#improvements-1" class="table-of-contents__link toc-highlight">Improvements</a></li></ul></li><li><a href="#0123---2019-05-06" class="table-of-contents__link toc-highlight">0.12.3 - 2019-05-06</a><ul><li><a href="#changes-11" class="table-of-contents__link toc-highlight">Changes</a></li></ul></li><li><a href="#0122---2019-04-19" class="table-of-contents__link toc-highlight">0.12.2 - 2019-04-19</a><ul><li><a href="#fixes-13" class="table-of-contents__link toc-highlight">Fixes</a></li><li><a href="#changes-12" class="table-of-contents__link toc-highlight">Changes</a></li></ul></li><li><a href="#0121---2019-04-01" class="table-of-contents__link toc-highlight">0.12.1 - 2019-04-01</a><ul><li><a href="#️-hotfix" class="table-of-contents__link toc-highlight">⚠️ Hotfix</a></li><li><a href="#changes-13" class="table-of-contents__link toc-highlight">Changes</a></li></ul></li><li><a href="#0120---2019-03-18" class="table-of-contents__link toc-highlight">0.12.0 - 2019-03-18</a><ul><li><a href="#added" class="table-of-contents__link toc-highlight">Added</a></li><li><a href="#performance-5" class="table-of-contents__link toc-highlight">Performance</a></li></ul></li><li><a href="#0110---2019-03-12" class="table-of-contents__link toc-highlight">0.11.0 - 2019-03-12</a><ul><li><a href="#breaking" class="table-of-contents__link toc-highlight">Breaking</a></li><li><a href="#bug-fixes" class="table-of-contents__link toc-highlight">Bug fixes</a></li><li><a href="#other-changes" class="table-of-contents__link toc-highlight">Other changes</a></li></ul></li><li><a href="#0101---2019-02-12" class="table-of-contents__link toc-highlight">0.10.1 - 2019-02-12</a><ul><li><a href="#changes-14" class="table-of-contents__link toc-highlight">Changes</a></li></ul></li><li><a href="#0100---2019-01-18" class="table-of-contents__link toc-highlight">0.10.0 - 2019-01-18</a><ul><li><a href="#breaking-1" class="table-of-contents__link toc-highlight">Breaking</a></li><li><a href="#new" class="table-of-contents__link toc-highlight">New</a></li></ul></li><li><a href="#090---2018-11-23" class="table-of-contents__link toc-highlight">0.9.0 - 2018-11-23</a><ul><li><a href="#new-1" class="table-of-contents__link toc-highlight">New</a></li></ul></li><li><a href="#080---2018-11-16" class="table-of-contents__link toc-highlight">0.8.0 - 2018-11-16</a><ul><li><a href="#new-2" class="table-of-contents__link toc-highlight">New</a></li><li><a href="#fixes-14" class="table-of-contents__link toc-highlight">Fixes</a></li></ul></li><li><a href="#070---2018-10-31" class="table-of-contents__link toc-highlight">0.7.0 - 2018-10-31</a><ul><li><a href="#deprecations-3" class="table-of-contents__link toc-highlight">Deprecations</a></li><li><a href="#new-3" class="table-of-contents__link toc-highlight">New</a></li><li><a href="#changes-15" class="table-of-contents__link toc-highlight">Changes</a></li></ul></li><li><a href="#062---2018-10-04" class="table-of-contents__link toc-highlight">0.6.2 - 2018-10-04</a><ul><li><a href="#deprecations-4" class="table-of-contents__link toc-highlight">Deprecations</a></li><li><a href="#refactoring" class="table-of-contents__link toc-highlight">Refactoring</a></li></ul></li><li><a href="#061---2018-09-20" class="table-of-contents__link toc-highlight">0.6.1 - 2018-09-20</a><ul><li><a href="#added-1" class="table-of-contents__link toc-highlight">Added</a></li><li><a href="#changed" class="table-of-contents__link toc-highlight">Changed</a></li><li><a href="#fixed" class="table-of-contents__link toc-highlight">Fixed</a></li></ul></li><li><a href="#060---2018-09-05" class="table-of-contents__link toc-highlight">0.6.0 - 2018-09-05</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/Installation">Installation</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/CONTRIBUTING">Contributing</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/watermelondb" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/radexp" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/nozbe/WatermelonDB" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">WatermelonDB by <a href="https://radex.io">Radek Pietruszewski</a> and <a href="https://nozbe.com">Nozbe</a>.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.088a360d.js"></script>
<script src="/assets/js/main.a8eb047d.js"></script>
</body>
</html>